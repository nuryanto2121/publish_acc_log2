{"version":3,"sources":["webpack:///./src/views/MK/MK_Quotation/MK_Quotation_logbookForm.vue?fe8b","webpack:///src/views/MK/MK_Quotation/MK_Quotation_logbookForm.vue","webpack:///./src/views/MK/MK_Quotation/MK_Quotation_logbookForm.vue?051f","webpack:///./src/views/MK/MK_Quotation/MK_Quotation_logbookForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","_s","title","on","doBack","ref","PI_logbook_descs","model","value","M_LogBook","callback","$$v","$set","expression","mdSave","doSave","disableBtnDelete","doDelete","_e","staticRenderFns","data","mk_trx_logbook_id","logbook_date","logbook_type","descs","cValidate","cName","cOrder","cKey","cProtect","cResize","cReadonly","cRows","cMaxRows","cSize","cParentForm","cInputStatus","computed","paramFromList","param","$store","getters","getParamPage","inputStatus","isEdit","methods","$router","go","M_ClearForm","$validator","_base","validateAll","then","result","M_Save","option_url","line_no","ss_portfolio_id","getDataUser","portfolio_id","referance_no","quotation_no","momentDateFormatting","Date","cm_contact_id","cm_contact_person_id","action_type","meeting_address","user_input","user_id","postJSON","getUrlCRUD","response","M_Update","lastupdatestamp","DetailList","user_edit","putJSON","alertConfirmation","M_Delete","id","row_id","deleteJSON","GetDataBy","getJSON","Data","mounted","component"],"mappings":"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","file":"js/chunk-7474bd1e.3298f34e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-page-chart\"},[_c('div',{staticClass:\"dashboard-page-chart__body\"},[_c('b-row',{staticClass:\"dashboardBody\"},[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('div',{staticClass:\"card\",staticStyle:{\"font-size\":\"12px !important\"}},[_c('div',{staticClass:\"card__title\"},[_c('b-row',[_c('b-col',{staticStyle:{\"max-width\":\"max-content !important\"}},[_c('span',[_vm._v(_vm._s(_vm.title)+\" Log Book\")])]),_c('b-col',{staticStyle:{\"text-align\":\"right\"}},[_c('ABSButton',{attrs:{\"text\":'Back',\"classButton\":\"button button--back\",\"classIcon\":\"icon-style-1\"},on:{\"click\":_vm.doBack}})],1)],1)],1),_c('div',{staticClass:\"card__body\"},[_c('b-form',{attrs:{\"data-vv-scope\":'Frm_Logbook',\"data-vv-value-path\":'Frm_Logbook'}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"2\"}},[_c('div',[_c('img',{staticStyle:{\"width\":\"70px\"},attrs:{\"src\":require('@/assets/paper.png'),\"alt\":\"\"}})])]),_c('b-col',{attrs:{\"md\":\"10\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('span',[_c('label',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"* \")]),_vm._v(\"Description\")])]),_c('ACCTextArea',{ref:\"ref_logbook_descs\",attrs:{\"prop\":_vm.PI_logbook_descs},model:{value:(_vm.M_LogBook.descs),callback:function ($$v) {_vm.$set(_vm.M_LogBook, \"descs\", $$v)},expression:\"M_LogBook.descs\"}})],1)],1),_c('b-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('b-col',{attrs:{\"md\":_vm.mdSave}},[_c('ABSButton',{attrs:{\"text\":'Save',\"classButton\":\"btn btn--default\",\"classIcon\":\"icon-style-default\",\"styleButton\":\"height: 40px;width: 100%;\"},on:{\"click\":_vm.doSave}})],1),(_vm.disableBtnDelete==true)?_c('b-col',{attrs:{\"md\":\"3\"}},[_c('ABSButton',{attrs:{\"text\":'Delete',\"classButton\":\"btn btn--default\",\"classIcon\":\"icon-style-default\",\"styleButton\":\"height: 40px;width: 100%;\"},on:{\"click\":_vm.doDelete}})],1):_vm._e()],1)],1)],1)],1)],1)])])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dashboard-page-chart\">\r\n    <div class=\"dashboard-page-chart__body\">\r\n      <b-row class=\"dashboardBody\">\r\n        <b-col md=\"12\">\r\n          <div class=\"card\" style=\"font-size: 12px !important;\">\r\n            <div class=\"card__title\">\r\n              <b-row>\r\n                <b-col style=\"max-width: max-content !important;\">\r\n                  <span>{{title}} Log Book</span>\r\n                </b-col>\r\n                <b-col style=\"text-align: right;\">\r\n                  <ABSButton\r\n                    :text=\"'Back'\"\r\n                    classButton=\"button button--back\"\r\n                    classIcon=\"icon-style-1\"\r\n                    @click=\"doBack\"\r\n                  />\r\n                </b-col>\r\n              </b-row>\r\n            </div>\r\n            <div class=\"card__body\">\r\n              <b-form :data-vv-scope=\"'Frm_Logbook'\" :data-vv-value-path=\"'Frm_Logbook'\">\r\n                <b-row>\r\n                  <b-col md=\"2\">\r\n                    <div>\r\n                      <!-- <img :src=\"M_NewProspect.path_file\" alt width=\"100%\" /> -->\r\n                      <img :src=\"require('@/assets/paper.png')\" alt style=\"width: 70px;\" />\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col md=\"10\">\r\n                    <b-row>\r\n                      <b-col md=\"6\">\r\n                        <span>\r\n                          <label><span style=\"color: red\">* </span>Description</label>\r\n                        </span>\r\n                        <ACCTextArea\r\n                          :prop=\"PI_logbook_descs\"\r\n                          v-model=\"M_LogBook.descs\"\r\n                          ref=\"ref_logbook_descs\"\r\n                        />\r\n                      </b-col>\r\n                    </b-row>\r\n\r\n                    <b-row style=\"margin-top: 10px;\">\r\n                      <b-col :md=\"mdSave\">\r\n                        <ABSButton\r\n                          :text=\"'Save'\"\r\n                          classButton=\"btn btn--default\"\r\n                          classIcon=\"icon-style-default\"\r\n                          @click=\"doSave\"\r\n                          styleButton=\"height: 40px;width: 100%;\"\r\n                        />\r\n                      </b-col>\r\n                      <b-col md=\"3\" v-if=\"disableBtnDelete==true\">\r\n                        <ABSButton\r\n                          :text=\"'Delete'\"\r\n                          classButton=\"btn btn--default\"\r\n                          classIcon=\"icon-style-default\"\r\n                          @click=\"doDelete\"\r\n                          styleButton=\"height: 40px;width: 100%;\"\r\n                        />\r\n                      </b-col>\r\n                    </b-row>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-form>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      mdSave: 6,\r\n      disableBtnDelete: false,\r\n      M_LogBook: {\r\n        mk_trx_logbook_id: 0,\r\n        logbook_date: null,\r\n        logbook_type: \"\",\r\n        descs: \"\"\r\n      },\r\n      PI_logbook_descs: {\r\n        cValidate: \"required|max:255\",\r\n        cName: \"logbook_descs\",\r\n        cOrder: 1,\r\n        cKey: false,\r\n        cProtect: false,\r\n        cResize: false,\r\n        cReadonly: false,\r\n        cRows: 1,\r\n        cMaxRows: 2,\r\n        cSize: \"md\",\r\n        cParentForm: \"Frm_Logbook\",\r\n        cInputStatus: \"new\"\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    paramFromList() {\r\n      var param = this.$store.getters.getParamPage;\r\n      return param;\r\n    },\r\n    inputStatus() {\r\n      var param = this.$store.getters.getParamPage;\r\n      if (param.isEdit && param.isEdit === true) {\r\n        return \"edit\";\r\n      } else {\r\n        return \"new\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    doBack() {\r\n      this.$router.go(-1);\r\n      // this.$router.push({ name: \"MK_Quotation\" });\r\n    },\r\n\r\n    M_ClearForm() {\r\n      this.M_LogBook = {\r\n        mk_trx_logbook_id: 0,\r\n        logbook_date: null,\r\n        logbook_type: \"\",\r\n        descs: \"\"\r\n      };\r\n    },\r\n\r\n    doSave() {\r\n      this.$validator._base.validateAll(\"Frm_Logbook\").then(result => {\r\n        if (!result) return;\r\n        this.alertConfirmation(\"Are You Sure Want To Save This Data ?\").then(\r\n          ress => {\r\n            if (ress.value) {\r\n              this.$validator.errors.clear(\"Frm_Logbook\");\r\n              if (this.inputStatus == \"edit\") {\r\n                this.M_Update();\r\n              } else {\r\n                this.M_Save();\r\n              }\r\n            }\r\n          }\r\n        );\r\n      });\r\n    },\r\n    M_Save() {\r\n      var param = {\r\n        option_url: \"/MK/MK_Quotation\",\r\n        line_no: 2,\r\n        ss_portfolio_id: this.getDataUser().portfolio_id,\r\n        logbook_type: \"F\", //this.paramFromList.quotation_type,\r\n        referance_no: this.paramFromList.quotation_no,\r\n        logbook_date: this.momentDateFormatting(new Date(), \"YYYY-MM-DD HH:mm\"),\r\n        descs: this.M_LogBook.descs,\r\n        cm_contact_id: this.paramFromList.cm_contact_id,\r\n        cm_contact_person_id: \"NULL\",\r\n        action_type: \"\",\r\n        meeting_address: \"\",\r\n        user_input: this.getDataUser().user_id\r\n      };\r\n\r\n      this.postJSON(this.getUrlCRUD(), param).then(response => {\r\n        if (response == null) return;\r\n        this.doBack();\r\n      });\r\n    },\r\n    M_Update() {\r\n      var param = {\r\n        option_url: \"/MK/MK_Quotation\",\r\n        line_no: 2,\r\n        mk_trx_logbook_id: this.M_LogBook.mk_trx_logbook_id,\r\n        ss_portfolio_id: this.getDataUser().portfolio_id,\r\n        logbook_type: this.M_LogBook.logbook_type, //this.paramFromList.quotation_type,\r\n        referance_no: this.paramFromList.quotation_no,\r\n        logbook_date: this.M_LogBook.logbook_date, //this.momentDateFormatting(new Date(), \"YYYY-MM-DD HH:mm\"),\r\n        descs: this.M_LogBook.descs,\r\n        cm_contact_id: this.paramFromList.cm_contact_id,\r\n        cm_contact_person_id: \"NULL\",\r\n        action_type: \"\",\r\n        meeting_address: \"\",\r\n        lastupdatestamp: this.paramFromList.DetailList.lastupdatestamp,\r\n        user_edit: this.getDataUser().user_id\r\n      };\r\n\r\n      this.putJSON(this.getUrlCRUD(), param).then(response => {\r\n        if (response == null) return;\r\n        this.doBack();\r\n      });\r\n    },\r\n    doDelete() {\r\n      this.alertConfirmation(\"Are You Sure Want To Delete This Data ?\").then(\r\n        ress => {\r\n          if (ress.value) {\r\n            this.M_Delete();\r\n          }\r\n        }\r\n      );\r\n    },\r\n    M_Delete() {\r\n      var param = {\r\n        option_url: \"/MK/MK_Quotation\",\r\n        line_no: 2,\r\n        id: this.paramFromList.row_id,\r\n        lastupdatestamp: this.paramFromList.DetailList.lastupdatestamp\r\n      };\r\n      this.deleteJSON(this.getUrlCRUD(), param).then(response => {\r\n        if (response == null) return;\r\n        this.doBack();\r\n      });\r\n    },\r\n    GetDataBy() {\r\n      var param = {\r\n        option_url: \"/MK/MK_Quotation\",\r\n        line_no: 2,\r\n        id: this.paramFromList.DetailList.row_id,\r\n        lastupdatestamp: this.paramFromList.DetailList.lastupdatestamp\r\n      };\r\n\r\n      this.getJSON(this.getUrlCRUD(), param).then(response => {\r\n        // response from API\r\n        if (response == null) return;\r\n\r\n        var data = response.Data[0];\r\n\r\n        this.M_LogBook = {\r\n          mk_trx_logbook_id: data.mk_trx_logbook_id,\r\n          descs: data.descs,\r\n          logbook_date: data.logbook_date,\r\n          logbook_type: data.logbook_type,\r\n          row_id: data.row_id,\r\n          lastupdatestamp: data.lastupdatestamp\r\n        };\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.M_ClearForm();\r\n    if (this.inputStatus == \"edit\") {\r\n      this.title = \"Edit\";\r\n      this.mdSave = 3;\r\n      this.disableBtnDelete = true;\r\n      this.GetDataBy();\r\n    } else {\r\n      this.title = \"Add\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MK_Quotation_logbookForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MK_Quotation_logbookForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MK_Quotation_logbookForm.vue?vue&type=template&id=46da1bce&\"\nimport script from \"./MK_Quotation_logbookForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MK_Quotation_logbookForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}