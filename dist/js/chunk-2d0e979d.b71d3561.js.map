{"version":3,"sources":["webpack:///./src/components/Forms/ABSMasterPage.vue?b420","webpack:///src/components/Forms/ABSMasterPage.vue","webpack:///./src/components/Forms/ABSMasterPage.vue?c2c7","webpack:///./src/components/Forms/ABSMasterPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","$event","ActiveDiv","attrs","prop","tabPath","listHeader","directives","name","rawName","value","FormLevel2","listDetail","expression","tabPath2","FormLevel3","listChild","tabPath3","staticRenderFns","props","data","PageLevel","TabIndex","dataState","state","watch","alert","newData","methods","doGetTabHeader","param","OptionSeq","getOptionSeq","ParamWhere","postEncode","getUrlTab","doGetTabDetail","QuerySequenceNo","doGetTabChild","beforeCreate","created","Events","Event","toUpperCase","datax","setTimeout","dt","active","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","component"],"mappings":"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","file":"js/chunk-2d0e979d.b71d3561.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('HeaderFormList'),_c('div',{staticClass:\"content-app-form__body\",staticStyle:{\"margin-bottom\":\"50px !important\"}},[_c('div',{on:{\"click\":function($event){return _vm.ActiveDiv('1')}}},[_c('ABSTabs',{attrs:{\"tabPath\":_vm.prop.tabPath,\"listTab\":_vm.listHeader,\"PageLevel\":\"1\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.FormLevel2 && _vm.listDetail[0]),expression:\"FormLevel2 && listDetail[0]\"}],on:{\"click\":function($event){return _vm.ActiveDiv('2')}}},[_c('ABSTabs',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.FormLevel2),expression:\"FormLevel2\"}],attrs:{\"tabPath\":_vm.prop.tabPath2,\"listTab\":_vm.listDetail,\"PageLevel\":\"2\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.FormLevel3  && _vm.listChild[0]),expression:\"FormLevel3  && listChild[0]\"}],on:{\"click\":function($event){return _vm.ActiveDiv('3')}}},[_c('ABSTabs',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.FormLevel3),expression:\"FormLevel3\"}],attrs:{\"tabPath\":_vm.prop.tabPath3,\"listTab\":_vm.listChild,\"PageLevel\":\"3\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- <HeaderFormList\n            @new=\"doNew\"\n            @edit=\"doEdit\"\n            @delete=\"doDelete\"\n            @save=\"doSave\"\n            @cancel=\"doCancel\"\n            @refresh=\"doRefresh\"\n            @post=\"doPost\"\n            @export=\"doExport\"\n            @columns=\"doColumns\"\n            @advanceFilter=\"doAdvanceFilter\"\n            @onSearchEnter=\"doOnSearchEnter\" /> -->\n    <HeaderFormList/>\n\n    <!-- body -->\n    <div class=\"content-app-form__body\" style=\" margin-bottom: 50px !important;\">\n        <!-- coding body is here -->\n        <!-- {{dataState}} -->\n      <div @click=\"ActiveDiv('1')\">\n        <ABSTabs :tabPath=\"prop.tabPath\" :listTab=\"listHeader\" PageLevel='1' />\n      </div>\n      <!-- {{listDetail}} -->\n      <div @click=\"ActiveDiv('2')\" v-show=\"FormLevel2 && listDetail[0]\">\n        <!-- <ABSTabs v-show=\"listDetail != null\" tabPath='views/Tabs2/' :listTab=\"listDetail\" PageLevel='2' /> -->\n        <ABSTabs v-show=\"FormLevel2\" :tabPath=\"prop.tabPath2\" :listTab=\"listDetail\" PageLevel='2' />\n      </div>\n      <!-- {{listChild}} -->\n      <div @click=\"ActiveDiv('3')\" v-show=\"FormLevel3  && listChild[0]\">\n        <!-- <ABSTabs v-show=\"listChild != null\" tabPath='views/Tabs2/' :listTab=\"listChild\" PageLevel='3' /> -->\n        <ABSTabs v-show=\"FormLevel3\" :tabPath=\"prop.tabPath3\" :listTab=\"listChild\" PageLevel='3' />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {EventBus} from '../../main'\n\nexport default {\n  props: {\n    prop: {\n      tabPath: '', tabPath2: null, tabPath3: null\n    }\n  },\n  data() {\n    return {\n      PageLevel: '1',\n      FormLevel2: false,\n      FormLevel3: false,\n      listHeader: [],\n      listDetail: [],\n      listChild: [],\n      TabIndex: '1',\n      dataState:{\n        state:'firstload',\n        PageLevel:'1',\n        TabIndex:'1'\n      }\n    };\n  },\n  watch:{\n    dataState:function(newData,OldData){\n      // alert(newData);\n      // alert(newData.PageLevel+' - '+newData.TabIndex)\n      alert(newData)\n      // alert(OldData);\n    }\n  },\n  methods: {\n    ActiveDiv (data) {\n      // console.table(this.dataState)\n      if(this.dataState.state=='new' || this.dataState.state=='edit'){\n        if(this.dataState.PageLevel !== data){\n            this.PageLevel = this.dataState.PageLevel\n            return\n        }\n      }else{\n        this.PageLevel = data\n        EventBus.$emit('ebActiveForm', data)\n        // this.dataState.state='divclick'\n      }\n     \n    },    \n    doGetTabHeader () {\n      var param = {\n        OptionSeq: this.getOptionSeq().OptionSeq,\n        ParamWhere: '[Level] = 1'\n      }\n\n      this.postEncode(this.getUrlTab(), param)\n      .then((response) => {\n        if(response == null) return\n        this.listHeader = response.Data\n      })\n    },\n    doGetTabDetail (param) {\n      var param = {\n        OptionSeq: this.getOptionSeq().OptionSeq,\n        ParamWhere: \"ParentSequenceNo = '\" + param.QuerySequenceNo + \"'\"\n      }\n\n      this.postEncode(this.getUrlTab(), param)\n      .then((response) => {\n        if(response == null) return\n        this.listDetail = response.Data       \n      })\n    },\n    doGetTabChild (param) {\n      var param = {\n        OptionSeq: this.getOptionSeq().OptionSeq,\n        ParamWhere: \"ParentSequenceNo = '\" + param.QuerySequenceNo + \"'\"\n      }\n\n      this.postEncode(this.getUrlTab(), param)\n      .then((response) => {\n        if(response == null) return\n\n        this.listChild = response.Data\n      })\n    }\n  },\n  beforeCreate: function () {\n  },\n  created: function() {\n\n    EventBus.$on('ToOpen', (data) => {\n      // console.log(data)\n      // alert(data.PageLevel)\n      // alert(JSON.stringify(data))\n      this.dataState.PageLevel = data.PageLevel\n      this.dataState.state = data.Event\n      this.dataState.TabIndex = data.TabIndex\n      // alert('ToOpen :'+JSON.stringify(data))\n      // EventBus.$emit('ebActiveForm', data.PageLevel)\n     \n      var Events = data.Event.toUpperCase()\n      var datax = {\n        PageLevel: data.PageLevel,\n        TabIndex: data.TabIndex\n      }\n\n      // if(Events !=='ROWCLICK'){\n      //    EventBus.$emit('ebActiveForm', data.PageLevel)\n      //   EventBus.$emit('ebActiveTab', data)\n      // }\n      if (data.PageLevel.toUpperCase() == '1') {//PAGE1\n        // alert(data.PageLevel)\n        // if(Events=='NEW'){\n        //     this.FormLevel2 = false\n        //     this.FormLevel3 = false\n        // }\n\n        if (Events == 'ROWCLICK') {\n          this.FormLevel2 = true\n          this.FormLevel3 = false\n          setTimeout(function() {\n            EventBus.$emit('HeaderPage', data.Key)\n          },700)\n          \n          EventBus.$emit('ebRowSelect', datax)\n        }\n\n        if(Events=='REFRESH' || Events=='DELETE' || Events=='NEW' || Events=='PAGESIZE'\n              || Events=='PAGINATION' || Events=='HEADTABLE' || Events=='SAVE' || Events=='POST'){\n            this.FormLevel2 = false\n            this.FormLevel3 = false\n        }\n\n        if(Events=='CANCEL'){\n          EventBus.$emit('activeForm_page2',false)\n          this.FormLevel3 = false\n        }\n        // EventBus.$emit('ebFormType', this.listHeader[data.TabIndex - 1].FormType)\n\n      } else if (data.PageLevel.toUpperCase() == '2') {//PAGE2\n        // alert(data.PageLevel)\n        // if(Events=='NEW'){\n        //     // this.FormLevel2 = false\n        //     this.FormLevel3 = false\n        // }\n        \n        if (Events == 'ROWCLICK') {\n          this.FormLevel3 = true\n           setTimeout(function() {\n             EventBus.$emit('HeaderChildPage', data.Key)\n           },700)\n\n          EventBus.$emit('ebRowSelect', datax)\n        }\n\n        if(Events=='REFRESH' || Events=='DELETE' || Events=='NEW' || Events=='PAGESIZE'\n              || Events=='PAGINATION' || Events=='HEADTABLE' || Events=='SAVE'){\n            // this.FormLevel2 = false\n            this.FormLevel3 = false\n        }\n\n        if(Events=='CANCEL'){\n          EventBus.$emit('activeForm_page3',false)\n          this.FormLevel3 = false\n        }\n        // EventBus.$emit('ebFormType', this.listDetail[data.TabIndex - 1].FormType)\n\n      } else if(data.PageLevel.toUpperCase()=='3') {//PAGE3\n        // alert(data.PageLevel)\n        // alert(this.FormLevel3)\n        this.FormLevel3 = true\n        if (Events=='ROWCLICK') {\n          EventBus.$emit('ebRowSelect', datax)\n        }\n        \n        // EventBus.$emit('ebFormType', this.listChild[data.TabIndex - 1].FormType)\n        // if(Events=='refresh'){\n        //     // this.FormLevel2 = false\n        //     // this.FormLevel3 = false\n        // }\n      }\n    })\n    EventBus.$on('ebActiveTab', (data) => {\n      this.dataState.TabIndex = data.TabIndex\n      // alert('ebActiveTab '+JSON.stringify(data))\n      var dt ={\n        active : false,\n        TabIndex : data.TabIndex,\n        PageLevel : data.PageLevel\n      }\n      EventBus.$emit('activeForm_'+data.PageLevel,dt)\n      // alert(JSON.stringify(data))\n      // alert(data.PageLevel)\n      // alert(this.PageLevel)\n      if(data.PageLevel=='1'){\n        this.FormLevel2 = false\n        this.FormLevel3 = false\n      } else if(data.PageLevel=='2'){\n        this.FormLevel3 = false\n      }\n      // this.doGetTabDetail(data)\n    })\n    EventBus.$on('ebTabDetail', (data) => {      \n      this.doGetTabDetail(data)\n    })\n\n    // EventBus.$on('ebTabDetailClear', (data) => {\n    //   this.listDetail = []\n    // })\n    \n    EventBus.$on('ebTabChild', (data) => {\n      this.doGetTabChild(data)\n    })\n\n    // EventBus.$on('ebTabChildClear', (data) => {\n    //   this.listChild = []\n    // })\n  },\n  beforeMount: function() {\n  },\n  mounted: function() {\n    // EventBus.$emit('ebActiveForm', this.PageLevel)\n    // setTimeout (function () {\n    //     EventBus.$emit('ebActiveForm', '1')\n    // },500)\n    this.doGetTabHeader()\n  },\n  beforeUpdate: function() {\n  },\n  updated: function() {\n  },\n  beforeDestroy: function() {\n    EventBus.$off('ToOpen')\n    EventBus.$off('ebActiveTab')\n\n    EventBus.$off('ebTabDetail')\n    // EventBus.$off('ebTabDetailClear')\n    \n    EventBus.$off('ebTabChild')\n    // EventBus.$off('ebTabChildClear')\n  },\n  destroyed: function() {\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ABSMasterPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ABSMasterPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ABSMasterPage.vue?vue&type=template&id=757a305c&\"\nimport script from \"./ABSMasterPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ABSMasterPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}