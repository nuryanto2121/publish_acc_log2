(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53a76c57"],{ba81:function(t,a,e){"use strict";var n=e("cba4"),r=e.n(n);r.a},cba4:function(t,a,e){},edc0:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card",staticStyle:{height:"95%"}},[e("div",{staticClass:"card__title"},[e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("span",[t._v("Target")])]),e("b-col",{staticStyle:{"text-align":"right"}},[e("span",[e("ABSButton",{attrs:{text:"View All",classButton:"button button--new",classIcon:"icon-style-1",disabled:!1},on:{click:t.doViewAllTarget}})],1)])],1)],1),e("div",{staticClass:"card__body"},[e("b-row",[e("b-col",[e("div",{staticClass:"chart-target"},[e("canvas",{attrs:{id:"bar-chart",height:"100"}})]),e("hr",{staticStyle:{margin:"5px !important"}})])],1),e("b-row",{staticClass:"row-comulative"},[e("b-col",{staticStyle:{margin:"auto"},attrs:{md:"2"}},[e("span",[t._v("Cumulative Todate")])]),e("b-col",{staticClass:"ChartLegend-Wrap"},[e("span",[e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("div",{staticClass:"ChartLegend-Content",staticStyle:{"text-align":"right"}},[e("span",{staticStyle:{color:"#666666"}},[t._v("Target")])])])],1),e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("div",{staticClass:"ChartLegend-Content",staticStyle:{"text-align":"right"}},[e("span",{staticStyle:{color:"#666666"}},[t._v("Achievement")])])])],1)],1),e("b-col",{attrs:{md:"4"}},[e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("div",{staticClass:"ChartLegend-Content",staticStyle:{"background-color":"#333399",width:"10px",height:"10px",padding:"10px"}})]),e("b-col",{staticClass:"ChartLegend-Content",staticStyle:{"max-width":"fit-content !important"},attrs:{md:"6"}},[e("span",{staticStyle:{color:"#666666"}},[t._v(t._s(t.M_Target.target+" "+t.M_Target.satuan))])])],1),e("b-row",[e("b-col",{staticStyle:{"max-width":"fit-content !important"}},[e("div",{staticClass:"ChartLegend-Content",staticStyle:{"background-color":"#00cc33",width:"10px",height:"10px",padding:"10px"}})]),e("b-col",{staticClass:"ChartLegend-Content",staticStyle:{"max-width":"fit-content !important"},attrs:{md:"6"}},[e("span",{staticStyle:{color:"#666666"}},[t._v(t._s(t.M_Target.achievement+" "+t.M_Target.satuan))])])],1)],1),e("b-col",{staticStyle:{"max-width":"fit-content !important"},attrs:{md:"4"}},[e("span",{staticStyle:{"font-size":"25px","font-weight":"bold",color:"#666666"}},[t._v("("+t._s(t.M_Target.avg)+" %)")])])],1)],1)])],1)],1)])},r=[],i=(e("ac6a"),e("6b54"),e("a481"),{data:function(){return{M_Target:{target:0,achievement:0,avg:0,satuan:"M"},myBarChart:null,ChartData:[]}},methods:{doViewAllTarget:function(){this.$router.push({name:"MK_DashboardTarget"})},ChartClick:function(t){var a=this.myBarChart.getElementAtEvent(t);null==a||!a||a.length<1||0==a[0]._datasetIndex&&this.$router.push({name:"MK_DashboardTarget_Detail",params:a[0]})},renderChart:function(){var t=this,a={option_function_cd:"GetMarketingTargetDash",module_cd:"MK",user_id:this.getDataUser().user_id,ss_portfolio_id:this.getDataUser().portfolio_id};this.CallFunction(a).then((function(a){if(null!=a){var e=a.Data,n=((new Date).getMonth(),[]),r=[],i=[],o=[];t.ChartData=e;var l=Math.max.apply(null,n.concat(i)),c=r.reduce((function(t,a){return t+a}),0),s=o.reduce((function(t,a){return t+a}),0);l=Math.max.apply(null,n),c=r.reduce((function(t,a){return t+a}),0),s=o.reduce((function(t,a){return t+a}),0);t.M_Target.satuan=e[0].display_satuan,t.M_Target.target=Math.round(c).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.M_Target.achievement=Math.round(s).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t.M_Target.avg=Math.round(s/c*100);var d=[{label:"Target",backgroundColor:"#333399",data:n},{label:"Achievement",backgroundColor:"#00cc33",data:i}],u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=document.getElementById("bar-chart").getContext("2d");t.myBarChart=new Chart(h,{type:"bar",data:{labels:u,datasets:d},options:{events:["click"],onClick:t.ChartClick,maintainAspectRatio:!1,legend:{display:!1},title:{display:!1,text:""},scales:{xAxes:[{gridLines:{}}],yAxes:[{scaleLabel:{},gridLines:{},ticks:{display:!0,min:0,stepSize:Math.round(l/4),callback:function(t,a,n){return t+e[0].display_satuan}}}]},animation:{duration:1,onProgress:function(t){var a=t.chartInstance,e=a.ctx,n=a.data;e.font=Chart.helpers.fontString(Chart.defaults.global.defaultFontSize,Chart.defaults.global.defaultFontStyle,Chart.defaults.global.defaultFontFamily),e.textAlign="center",e.textBaseline="bottom",e.font=Chart.helpers.fontString(8,Chart.defaults.global.defaultFontStyle,Chart.defaults.global.defaultFontFamily),e.textAlign="center",e.textBaseline="bottom",n.datasets.forEach((function(t,n){var r=a.controller.getDatasetMeta(n);r.data.forEach((function(a,n){var r=t.data[n];e.fillText(r,a._model.x,a._model.y)}))}))}},plugins:{datalabels:{color:"black"}}}}),t.myBarChart.update(),t.$forceUpdate()}}))}},mounted:function(){this.renderChart()}}),o=i,l=(e("ba81"),e("2877")),c=Object(l["a"])(o,n,r,!1,null,"23a4fcb9",null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-53a76c57.cae97934.js.map