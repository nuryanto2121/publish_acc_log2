{"version":3,"sources":["webpack:///./src/components/Forms/ABSinputText.vue?e6b4","webpack:///src/components/Forms/ABSinputText.vue","webpack:///./src/components/Forms/ABSinputText.vue?7093","webpack:///./src/components/Forms/ABSinputText.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","prop","expression","staticClass","attrs","cLabelSize","isNew","isEdit","staticStyle","_v","_e","_s","cLabel","ref","cName","class","errors","has","cParentForm","style","size","cOrder","cKey","cProtect","on","handleInput","nativeOn","$event","formatNumber","isCurrency","model","callback","$$v","first","cLastLabel","staticRenderFns","props","cValidate","String","Number","Boolean","cType","cDefault","cVisible","cPageLevel","cTabIndex","data","isRequired","methods","$emit","evt","charCode","preventDefault","str","num","numSplit","split","numReal","replace","numDecimal","toString","eventBusListener","$validator","pause","$nextTick","computed","watch","created","undefined","str_array","i","length","s","alert","mounted","beforeDestroy","updated","component"],"mappings":"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","file":"js/chunk-2d0b35ea.cbe4eeb7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prop.cVisible),expression:\"prop.cVisible\"}]},[_c('b-col',{staticClass:\"lbl-col-align\",attrs:{\"md\":_vm.prop.cLabelSize}},[_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNew || _vm.isEdit),expression:\"isNew || isEdit\"}],staticClass:\"text-field-form\"},[(_vm.isRequired)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.prop.cLabel)+\" : \")]),_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNew && !_vm.isEdit),expression:\"!isNew && !isEdit\"}],staticClass:\"lbl-view-form\"},[(_vm.isRequired)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.prop.cLabel)+\" : \")])]),_c('b-col',[_c('b-form-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isNew),expression:\"isNew\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.prop.cValidate),expression:\"prop.cValidate\"}],ref:_vm.prop.cName,staticClass:\"text-field-form\",class:{'input': true, 'error-text-field': _vm.errors.has(_vm.prop.cParentForm+'.'+_vm.prop.cName)},style:(_vm.style),attrs:{\"type\":\"text\",\"name\":_vm.prop.cName,\"data-vv-as\":_vm.prop.cLabel,\"maxlength\":_vm.size,\"tabindex\":_vm.prop.cOrder,\"disabled\":_vm.isEdit && _vm.prop.cKey || _vm.prop.cProtect,\"id\":_vm.prop.cName},on:{\"input\":_vm.handleInput},nativeOn:{\"keypress\":function($event){return _vm.formatNumber($event)},\"blur\":function($event){return _vm.isCurrency($event)}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errors.has(_vm.prop.cParentForm+'.'+_vm.prop.cName)),expression:\"errors.has(prop.cParentForm+'.'+prop.cName)\"}],staticClass:\"error-span\"},[_vm._v(_vm._s(_vm.errors.first(_vm.prop.cParentForm+'.'+_vm.prop.cName))+\"\\n        \")]),_c('label',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNew),expression:\"!isNew\"}],staticClass:\"lbl-value-view-form notranslate\"},[_vm._v(_vm._s(_vm.value))])],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('label',{staticClass:\"lbl-value-view-form notranslate\"},[_vm._v(_vm._s(_vm.prop.cLastLabel))])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <b-row v-show=\"prop.cVisible\">\n      <b-col :md=\"prop.cLabelSize\" class=\"lbl-col-align\">\n        <label v-show=\"isNew || isEdit\" class=\"text-field-form\"><span v-if=\"isRequired\" style=\"color:red;\">*</span> {{ prop.cLabel }} :&nbsp;</label>\n        <label v-show=\"!isNew && !isEdit\" class=\"lbl-view-form\"><span v-if=\"isRequired\" style=\"color:red;\">*</span> {{ prop.cLabel }} :&nbsp;</label>\n      </b-col>\n      <b-col> \n        <b-form-input\n          v-show=\"isNew\"\n          v-validate=\"prop.cValidate\"\n          :class=\"{'input': true, 'error-text-field': errors.has(prop.cParentForm+'.'+prop.cName)}\"\n          type=\"text\"\n          v-bind:name=\"prop.cName\"\n          v-bind:data-vv-as=\"prop.cLabel\"\n          v-model=\"value\"\n          class=\"text-field-form\"\n          @input=\"handleInput\"\n          :maxlength=\"size\"\n          :tabindex=\"prop.cOrder\"\n          :disabled=\"isEdit && prop.cKey || prop.cProtect\"\n          @keypress.native=\"formatNumber\"\n          :style=\"style\"\n          @blur.native=\"isCurrency\"\n          :ref=\"prop.cName\"\n          :id=\"prop.cName\"\n        />\n\n          <span v-show=\"errors.has(prop.cParentForm+'.'+prop.cName)\"\n            class=\"error-span\">{{ errors.first(prop.cParentForm+'.'+prop.cName) }}\n          </span>\n\n          <!-- <label class=\"text-field-form\" v-show=\"!isNew\">{{prop.cDefault}}</label>\n          <label class=\"text-field-form\" v-show=\"!isNew\">{{value}}</label> -->\n          <label class=\"lbl-value-view-form notranslate\" v-show=\"!isNew\">{{value}}</label>\n      </b-col>\n      <!-- <b-col v-else>\n        <b-form-input\n          v-show=\"isNew\"\n          v-validate=\"prop.cValidate\"\n          :class=\"{'input': true, 'error-text-field': errors.has(prop.cName)}\"\n          type=\"text\"\n          v-bind:name=\"prop.cName\"\n          v-bind:data-vv-as=\"prop.cLabel\"\n          v-model=\"value\"\n          class=\"text-field-form\"\n          @input=\"handleInput\"\n          :maxlength=\"size\"\n          :tabindex=\"prop.cOrder\"/>\n\n          <span v-show=\"errors.has(prop.cName)\"\n            class=\"error-span\">{{ errors.first(prop.cName) }}\n          </span>\n\n          <label class=\"text-field-form\" v-show=\"!isNew\">{{value}}</label>\n      </b-col> -->\n      <b-col md=\"1\">\n        <label class=\"lbl-value-view-form notranslate\">{{ prop.cLastLabel }}</label>\n      </b-col>\n    </b-row>\n  </span>\n</template>\n\n<script>\nimport { EventBus } from '../../main'\nexport default {\n  props: {\n    prop: {\n      cValidate: String,\n      cName: String,\n      cLabel: String,\n      cLabelSize: String,\n      cOrder: Number,\n      cKey: Boolean,\n      cType: String,\n      cDefault: String,\n      cProtect: Boolean,\n      cVisible: Boolean,\n      cPageLevel: String,\n      cTabIndex: String,\n      cParentForm: String,\n      cLastLabel: String\n    },\n    value: String\n  },\n  data() {\n    return {\n      isNew: false,\n      isEdit: false,\n      size: 0,\n      isRequired: false,\n      style: {},\n      // validators: {}\n    };\n  },\n  methods: {\n    handleInput () {\n      this.$emit('input', this.value)\n      // console.log(this.$validator)\n      // this.$emit('isValid', this.$validator.validate().then((res) => {return res}))\n    },\n    formatNumber(evt){\n      if(this.prop.cType == 'decimal'){\n        // console.log(evt)\n        evt = (evt) ? evt : window.event\n        var charCode = (evt.which) ? evt.which : evt.keyCode\n        if ((charCode > 31 && (charCode < 48 || charCode > 57)) && charCode !== 46) {\n          evt.preventDefault()\n        }\n        else if(charCode == 46){\n          var str = this.value\n          if(str.indexOf('.') !== -1){\n            evt.preventDefault()\n          }\n          else {\n            return true\n          }\n        }\n        else {\n          return true\n        }\n      }\n    },\n    isCurrency () {\n      if(this.prop.cType == 'decimal'){\n        if(this.value !== ''){\n          var num = this.value\n          var numSplit = num.split('.')\n          var numReal = numSplit[0].replace(',','')\n          var numDecimal = numSplit[1] ? (\".\" + numSplit[1]) : '.00'\n\n          this.value = numReal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + numDecimal\n        }\n      }\n    },\n    eventBusListener (action, data) {\n      // alert(action)\n      // this.isEdit = false\n      this.isNew = data\n      if(action == 'new'){\n        this.$validator.pause()\n        this.$nextTick(() => {\n          this.$validator.errors.clear(this.prop.cParentForm)\n          // this.$validator.fields.items.forEach(field => field.reset())\n          // this.$validator.fields.items.forEach(field => this.errors.remove(field))\n          this.$validator.resume()\n        })\n      }\n      else if (action == 'edit') {\n        this.isEdit = true\n      }\n      else if (action == 'cancel') {\n        this.isEdit = false\n      }\n      // else if (action == 'beforeSave') {\n      //   // if(this.prop.cValidate){\n      //     this.$validator.validate().then((res) => { EventBus.$emit('ValidToSave_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, {from: this.prop.cName, response: res}) })\n      //   // }\n      // }\n      else if (action == 'save') {\n        this.isEdit = false\n      }\n    }\n  },\n  computed: {\n  },\n  watch: {\n  },\n  created: function() {\n    this.prop.cLabelSize = this.prop.cLabelSize ? this.prop.cLabelSize : 5\n    this.prop.cType = this.prop.cType ? this.prop.cType : \"text\"\n    this.prop.cProtect = this.prop.cProtect ? this.prop.cProtect : false\n    this.prop.cVisible = this.prop.cVisible === undefined ? true : this.prop.cVisible\n    this.value = this.prop.cDefault ? this.prop.cDefault : ''\n\n    if (this.prop.cType == 'decimal') {\n      this.style = { 'text-align': 'right' }\n    }\n\n    // get max, for maxlength\n    var str_array = this.prop.cValidate.split('|')\n    for (var i = 0; i < str_array.length; i++) {\n      var s = str_array[i].split(':')\n      if(s[0] == 'max') {\n        this.size = s[1]\n      }\n      else if(s[0] == 'required') {\n        this.isRequired = true\n      }\n\n      // this.validators[s[0]] = s[1]==null || s[1]==undefined?true:s[1]\n    }\n\n    if (this.size == 0) alert('Max Length Should Be Fill')\n    \n    // EventBus.$on('ebInput', (data) => {\n    //   this.isNew = data\n    //   if (this.getStatusForm() == 'edit') {\n    //     this.isEdit = true\n    //   } else {\n    //     this.isEdit = false\n    //   }\n    // })\n    EventBus.$on('New_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, (data) => this.eventBusListener('new', data))\n\n    EventBus.$on('Edit_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, (data) => this.eventBusListener('edit', data))\n\n    EventBus.$on('Cancel_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, () => this.eventBusListener('cancel',false))\n\n    // EventBus.$on('Save_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, () => this.eventBusListener('beforeSave',true))\n\n    EventBus.$on('ebSaveSuccess_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex, () => this.eventBusListener('save',false))\n\n    // EventBus.$on('input', (data) => {\n    //   alert(data)\n    //   this.value = data\n    // })\n\n    // this.$validator.attach({\n    //   name: this.prop.cName,\n    //   rules: this.validators\n    // })\n  },\n  mounted: function () {\n    if(this.getStatusForm() == 'new') {\n      this.isNew = true\n    }\n  },\n  beforeDestroy: function() {\n    EventBus.$off('New_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex)\n\n    EventBus.$off('Edit_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex)\n\n    EventBus.$off('Cancel_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex)\n\n    // EventBus.$off('Save_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex)\n\n    EventBus.$off('ebSaveSuccess_' + this.prop.cPageLevel + '_' + this.prop.cTabIndex)\n  },\n  updated: function () {\n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ABSinputText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ABSinputText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ABSinputText.vue?vue&type=template&id=3bae1496&\"\nimport script from \"./ABSinputText.vue?vue&type=script&lang=js&\"\nexport * from \"./ABSinputText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}