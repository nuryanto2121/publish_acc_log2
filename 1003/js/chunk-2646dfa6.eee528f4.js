(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2646dfa6"],{9919:function(e,t,s){},bb9f:function(e,t,s){"use strict";s("9919")},f4c3:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"el",style:"margin-top:10px;",attrs:{mousetip:"","mousetip-msg":"I'm a tooltip"}},[s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse3",modifiers:{collapse3:!0}}],staticClass:"div-collapse"}),s("b-collapse",{attrs:{id:"collapse3",visible:!0}},[s("b-row",{staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[s("b-col",{staticClass:"bColMasterForm",attrs:{md:"5",id:"col-left"}},[s("ABSProcessInputSelectList",{attrs:{prop:e.PI_SubPortfolio,value:e.M_SubPortfolio,label:e.M_SubPortfolioLabel},on:{change:e.onSubPortfolioChange}})],1)],1),s("b-row",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticStyle:{"padding-left":"10px","padding-bottom":"10px"}},[s("b-col",{staticClass:"bColMasterForm",attrs:{md:"12",id:"col-mid"}},[s("b-container",{staticClass:"bv-example-row"},e._l(e.allModules,(function(t,n){return s("div",{key:t.module_seq},[s("b-row",{attrs:{"no-gutters":!0}},[s("b-col",{attrs:{cols:"auto"}},[s("span",{staticClass:"module",attrs:{id:"module_"+t.module_seq},on:{click:function(s){return e.expand("M",t.module_seq,n)}}},[s("font-awesome-icon",{staticClass:"icon-expand",attrs:{icon:t.icon?t.icon:"plus-circle"}})],1)]),s("b-col",{attrs:{cols:"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.set,expression:"module.set"}],staticStyle:{"vertical-align":"middle !important"},attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_module",id:"M_"+t.module_seq},domProps:{checked:t.set,checked:Array.isArray(t.set)?e._i(t.set,null)>-1:t.set},on:{click:function(s){return e.Update("M",t.module_seq)},change:function(s){var n=t.set,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"set",n.concat([l])):a>-1&&e.$set(t,"set",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"set",o)}}})]),s("b-col",{attrs:{cols:"auto"}},[s("span",[e._v(e._s(t.module_name))])])],1),s("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showEvent==t.module_seq,expression:"showEvent == module.module_seq"}],attrs:{"no-gutters":!0}},[s("b-container",{directives:[{name:"show",rawName:"v-show",value:e.onFilteredEvents.length>0,expression:"onFilteredEvents.length > 0"}],staticClass:"bv-example-row"},e._l(e.onFilteredEvents,(function(t,n){return s("div",{key:t.event_seq},[s("b-row",{staticStyle:{"margin-left":"26px"},attrs:{"no-gutters":!0}},[s("b-col",{attrs:{cols:"auto"}},[s("span",{staticClass:"event",attrs:{id:"event_"+t.event_seq},on:{click:function(s){return e.expand("E",t.event_seq,n)}}},[s("font-awesome-icon",{staticClass:"icon-expand",attrs:{icon:t.icon?t.icon:"plus-circle"}})],1)]),s("b-col",{attrs:{cols:"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.set,expression:"event.set"}],staticStyle:{"vertical-align":"middle !important"},attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_event",id:"E_"+t.event_seq},domProps:{checked:t.set,checked:Array.isArray(t.set)?e._i(t.set,null)>-1:t.set},on:{click:function(s){return e.Update("E",t.event_seq)},change:function(s){var n=t.set,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"set",n.concat([l])):a>-1&&e.$set(t,"set",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"set",o)}}})]),s("b-col",{attrs:{cols:"auto"}},[s("span",[e._v(e._s(t.event_name))])])],1),s("b-row",{directives:[{name:"show",rawName:"v-show",value:e.showOption==t.event_seq,expression:"showOption == event.event_seq"}],attrs:{"no-gutters":!0}},[s("b-container",{directives:[{name:"show",rawName:"v-show",value:e.onFilteredEvents[n].options.length>0,expression:"onFilteredEvents[indexEvent].options.length > 0"}],staticClass:"bv-example-row"},[s("table",{staticStyle:{"margin-left":"55px"}},[s("tr",[s("td"),e._v(" "),s("td"),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[e._v(" Add ")]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[e._v(" Edit ")]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[e._v(" Delete ")]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[e._v(" Post ")])]),e._l(e.onFilteredEvents[n].options,(function(t,n){return s("tr",{key:t.option_seq},[s("td",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.set,expression:"option.set"}],staticStyle:{"vertical-align":"middle !important"},attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_option",id:"O_"+t.option_seq},domProps:{checked:t.set,checked:Array.isArray(t.set)?e._i(t.set,null)>-1:t.set},on:{click:function(s){return e.Update("O",t.option_seq)},change:function(s){var n=t.set,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"set",n.concat([l])):a>-1&&e.$set(t,"set",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"set",o)}}})]),s("td",{staticClass:"col-auto"},[s("span",[e._v(e._s(t.option_name))])]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.add,expression:"option.add"}],attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_optionStatus",id:"OS_Add_"+t.option_seq},domProps:{checked:t.add,checked:Array.isArray(t.add)?e._i(t.add,null)>-1:t.add},on:{click:function(s){return e.Update("OS_Add",t.option_seq)},change:function(s){var n=t.add,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"add",n.concat([l])):a>-1&&e.$set(t,"add",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"add",o)}}})]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.edit,expression:"option.edit"}],attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_optionStatus",id:"OS_Edit_"+t.option_seq},domProps:{checked:t.edit,checked:Array.isArray(t.edit)?e._i(t.edit,null)>-1:t.edit},on:{click:function(s){return e.Update("OS_Edit",t.option_seq)},change:function(s){var n=t.edit,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"edit",n.concat([l])):a>-1&&e.$set(t,"edit",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"edit",o)}}})]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.delete,expression:"option.delete"}],attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_optionStatus",id:"OS_Delete_"+t.option_seq},domProps:{checked:t.delete,checked:Array.isArray(t.delete)?e._i(t.delete,null)>-1:t.delete},on:{click:function(s){return e.Update("OS_Delete",t.option_seq)},change:function(s){var n=t.delete,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"delete",n.concat([l])):a>-1&&e.$set(t,"delete",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"delete",o)}}})]),s("td",{staticClass:"col-auto",staticStyle:{"text-align":"center !important"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.post,expression:"option.post"}],attrs:{disabled:!e.canUpdate,type:"checkbox",name:"cb_optionStatus",id:"OS_Post_"+t.option_seq},domProps:{checked:t.print,checked:Array.isArray(t.post)?e._i(t.post,null)>-1:t.post},on:{click:function(s){return e.Update("OS_Post",t.option_seq)},change:function(s){var n=t.post,i=s.target,o=!!i.checked;if(Array.isArray(n)){var l=null,a=e._i(n,l);i.checked?a<0&&e.$set(t,"post",n.concat([l])):a>-1&&e.$set(t,"post",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"post",o)}}})])])}))],2)]),s("b-container",{directives:[{name:"show",rawName:"v-show",value:e.onFilteredEvents[n].options.length<=0,expression:"onFilteredEvents[indexEvent].options.length <= 0"}],staticClass:"bv-example-row"},[s("span",{staticStyle:{"margin-left":"55px"}},[e._v("No Option Available")])])],1)],1)})),0),s("b-container",{directives:[{name:"show",rawName:"v-show",value:e.onFilteredEvents.length<=0,expression:"onFilteredEvents.length <= 0"}],staticClass:"bv-example-row",staticStyle:{"margin-left":"26px"}},[s("span",[e._v("No Event Available")])])],1)],1)})),0)],1)],1)],1)],1)])},i=[],o=(s("6b54"),s("ac6a"),{props:{PageLevel:"",TabIndex:""},data:function(){return{FormType:"Form",propList:{initialWhere:"",LineNo:1,PageLevel:this.PageLevel,TabIndex:this.TabIndex},M_SubPortfolio:"",M_SubPortfolioLabel:"",IEBy:{Input:"",Edit:""},PI_SubPortfolio:{dataLookUp:{LookUpCd:"GetSubPortfolioCd",ColumnDB:"SubPortfolioCd",InitialWhere:"",ParamWhere:""},cValidate:"",cName:"SubPortfolio",cLabel:"SubPortfolio",cOrder:2,cSelected:null,cType:"lookup",cPageLevel:this.PageLevel,cTabIndex:this.TabIndex,cParentForm:"FormScope_"+this.PageLevel+"_"+this.TabIndex,cDisplayColumn:"subportfolio,name"},record:{UserGroup:null,SubPortfolio:null},DataFromParent:null,isShow:!1,allModules:[],allEvents:[],allOptions:[],allModules_Temp:[],allEvents_Temp:[],allOptions_Temp:[],onFilteredEvents:[],onFilteredOptions:[],showEvent:null,showOption:null,canUpdate:!1,indexOldEvent:-1}},computed:{inputStatus:function(){return this.$store.getters.getLevel==this.PageLevel&&this.$store.getters.getTab==this.TabIndex?this.$store.getters.getStatus.toUpperCase():"VIEW"}},methods:{M_PageSize:function(){},M_TabClick:function(){},M_Pagination:function(){},M_Advance_Filter:function(){},M_Search:function(e){},M_Post:function(){},M_Refresh:function(){},M_Delete:function(){},M_New:function(){},M_Cancel:function(){},M_Insert:function(){var e=[];this.allOptions.forEach((function(t){1!=t.add&&1!=t.edit&&1!=t.delete&&1!=t.post||e.push({option_seq:t.option_seq,add_status:1==t.add?1:0,edit_status:1==t.edit?1:0,delete_status:1==t.delete?1:0,print_status:1,view_status:1,post_status:1==t.post?1:0})}));var t={user_group:this.DataFromParent.user_group,subportfolio_cd:this.getDataUser().subportfolio_cd,user_input:this.getDataUser().user_id,Data:e};this.postJSON(this.getUrlSaveSecuritySetting(),t).then((function(e){}))},M_Update:function(){},M_ClearForm:function(){this.M_SubPortfolio="",this.M_SubPortfolioLabel=""},paramFromParent:function(){this.isShow=!1,this.M_ClearForm(),this.DataFromParent=this.$store.getters.GetPage1Data,this.allOptions=this.allOptions_Temp,this.canUpdate=!1,this.getAllAccess()},resetButtonExpand:function(e,t,s){e=e.toUpperCase();var n=this.allModules_Temp,i=this.allEvents_Temp,o=this.allOptions_Temp,l="+"==t?"plus-circle":"minus-circle";if("ALL"==e){if(null!==this.showOption){var a=this.allEvents.map((function(e){return e.event_seq})).indexOf(this.showOption);this.allEvents[a].icon="plus-circle",this.showOption=null,this.onFilteredOptions=[]}if(null!==this.showEvent){var r=this.allModules.map((function(e){return e.module_seq})).indexOf(this.showEvent);this.allModules[r].icon="plus-circle",this.showEvent=null,this.onFilteredEvents=[]}}else if("M"==e)for(var c=0;c<n.length;c++)n[c].icon=l;else if("E"==e)for(c=0;c<i.length;c++)i[c].icon=l;else if("O"==e)for(c=0;c<o.length;c++)o[c].icon=l},expand:function(e,t,s){var n=this;this.$store.commit("setStatusLoader",!0),setTimeout((function(){if("M"==e)if(n.onFilteredEvents=[],n.onFilteredOptions=[],t==n.showEvent){var i=n.allModules.map((function(e){return e.module_seq})).indexOf(t),o=n.allEvents.map((function(e){return e.event_seq})).indexOf(n.showOption);n.allModules[i].icon="plus-circle",o>-1&&(n.allEvents[o].icon="plus-circle"),n.showEvent=null,n.showOption=null}else{for(var l=0;l<n.allEvents.length;l++)n.allEvents[l].module_seq==t&&(n.allEvents[l].options=[],n.onFilteredEvents.push(n.allEvents[l]));n.showEvent=t,n.resetButtonExpand(e,"+",s);i=n.allModules.map((function(e){return e.module_seq})).indexOf(t);n.allModules[i].icon="minus-circle"}else if(t==n.showOption){n.showOption=null,n.onFilteredOptions=[],n.onFilteredEvents[s].options=[];o=n.allEvents.map((function(e){return e.event_seq})).indexOf(t);n.allEvents[o].icon="plus-circle"}else{n.onFilteredOptions=[],-1!=n.indexOldEvent&&(n.onFilteredEvents[n.indexOldEvent].options=[]),n.indexOldEvent=s;for(var a=0;a<n.allOptions.length;a++)n.allOptions[a].module_seq==n.showEvent&&n.allOptions[a].event_seq==t&&n.onFilteredOptions.push(n.allOptions[a]);n.showOption=t,n.resetButtonExpand(e,"+",s);o=n.allEvents.map((function(e){return e.event_seq})).indexOf(t);n.allEvents[o].icon="minus-circle",n.onFilteredEvents[s].options=n.onFilteredOptions}n.$store.commit("setStatusLoader",!1)}),100)},onSubPortfolioChange:function(e){if(console.log(e),null==e.id||""==e.id)return this.isShow=!1,this.resetButtonExpand("ALL","+"),this.M_SubPortfolio=e.id,void(this.M_SubPortfolioLabel=e.label);this.M_SubPortfolio=e.id,this.M_SubPortfolioLabel=e.label,this.resetButtonExpand("ALL","+"),this.showEvent=null,this.showOption=null,this.onFilteredEvents=[],this.onFilteredOptions=[],this.allOptions.map((function(e){return e.set=!1,e.add=!1,e.edit=!1,e.delete=!1,e.post=!1,!0})),this.allEvents.map((function(e){return e.set=!1,!0})),this.allModules.map((function(e){return e.set=!1,!0})),this.getGroupSubPortfolio()},getGroupSubPortfolio:function(){var e=this,t={OptionSeq:this.getOptionSeq().OptionSeq,LineNo:2,user_group:this.DataFromParent.user_group,subportfolio_cd:this.M_SubPortfolio};this.postJSON(this.getUrlById(),t).then((function(t){if(null!=t){var s=t.Data;e.allOptions=e.allOptions_Temp;var n=e.allOptions,i=e.allEvents,o=e.allModules;e.$nextTick((function(){s.forEach((function(t){var s=n.map((function(e){return e.option_seq.toString()})).indexOf(t.option_seq.toString());if(s>-1){e.allOptions[s].set=!0,e.allOptions[s].add=1==t.add_status,e.allOptions[s].edit=1==t.edit_status,e.allOptions[s].delete=1==t.delete_status,e.allOptions[s].post=1==t.post_status;var l=i.map((function(e){return e.event_seq.toString()})).indexOf(e.allOptions[s].event_seq.toString());e.allEvents[l].set=!0;var a=o.map((function(e){return e.module_seq.toString()})).indexOf(e.allOptions[s].module_seq.toString());e.allModules[a].set=!0}})),e.canUpdate=!0,e.isShow=!0})),e.$forceUpdate()}}))},getAllAccess:function(){var e=this,t={user_id:this.getDataUser().user_id,subportfolio_cd:this.record.SubPortfolio};this.postJSON(this.getUrlGetGroupPermission(),t).then((function(t){if(null!=t){var s=t.Data;e.allModules=s.Module,e.allEvents=s.Event,e.allOptions=s.Option,e.allModules_Temp=s.Module,e.allEvents_Temp=s.Event,e.allOptions_Temp=s.Option,e.resetButtonExpand("ALL","+")}}))},Update:function(e,t){var s=this;this.$nextTick((function(){"M"==e?s.checkedTheChild("M",t):"E"==e?s.checkedTheParent("E",t):"O"==e?s.checkedTheParent("O",t):s.checkedTheParent("OS",t)})),this.$forceUpdate()},checkedTheParent:function(e,t){if("E"==e){var s=this.allEvents_Temp.map((function(e){return e.event_seq})).indexOf(t),n=this.onFilteredEvents.map((function(e){return e.event_seq})).indexOf(t),i=this.allModules_Temp.map((function(e){return e.module_seq})).indexOf(this.allEvents[s].module_seq),o=this.isUnCheckAll("E",this.allEvents[s].module_seq);this.allModules[i].set=o,document.getElementById("M_"+this.allEvents[s].module_seq).checked=o,this.checkedTheChild("E",t,null,this.allEvents[s].module_seq)}else if("O"==e){var l=this.allOptions_Temp.map((function(e){return e.option_seq})).indexOf(t),a=this.onFilteredOptions.map((function(e){return e.option_seq})).indexOf(t),r=(s=this.allEvents_Temp.map((function(e){return e.event_seq})).indexOf(this.allOptions[l].event_seq),n=this.onFilteredEvents.map((function(e){return e.event_seq})).indexOf(this.allOptions[l].event_seq),i=this.allModules_Temp.map((function(e){return e.module_seq})).indexOf(this.allOptions[l].module_seq),this.isUnCheckAll("O",this.allOptions[l].event_seq));this.allEvents[s].set=r,this.onFilteredEvents[n].set=r,document.getElementById("E_"+this.allOptions[l].event_seq).checked=r;o=this.isUnCheckAll("E",this.allOptions[l].module_seq);this.allModules[i].set=o,document.getElementById("M_"+this.allOptions[l].module_seq).checked=o,this.checkedTheChild("O",t,this.showOption,this.showEvent)}else if("OS"==e){l=this.allOptions_Temp.map((function(e){return e.option_seq})).indexOf(t),a=this.onFilteredOptions.map((function(e){return e.option_seq})).indexOf(t),s=this.allEvents_Temp.map((function(e){return e.event_seq})).indexOf(this.allOptions[l].event_seq),n=this.onFilteredEvents.map((function(e){return e.event_seq})).indexOf(this.allOptions[l].event_seq),i=this.allModules_Temp.map((function(e){return e.module_seq})).indexOf(this.allOptions[l].module_seq);var c=this.isUnCheckAll("OS",t);this.allOptions[l].set=c,this.onFilteredOptions[a].set=c,document.getElementById("O_"+t).checked=c;r=this.isUnCheckAll("O",this.allOptions[l].event_seq);this.allEvents[s].set=r,this.onFilteredEvents[n].set=r,document.getElementById("E_"+this.allOptions[l].event_seq).checked=r;o=this.isUnCheckAll("E",this.allOptions[l].module_seq);this.allModules[i].set=o,document.getElementById("M_"+this.allOptions[l].module_seq).checked=o}},checkedTheChild:function(e,t){var s=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("O"==e){var i=this.allOptions_Temp.map((function(e){return e.option_seq})).indexOf(t);this.allOptions[i].add=this.allOptions[i].set,this.allOptions[i].edit=this.allOptions[i].set,this.allOptions[i].delete=this.allOptions[i].set,this.allOptions[i].post=this.allOptions[i].set,this.showOption==t&&(document.getElementById("OS_Add_"+t).checked=this.allOptions[i].set,document.getElementById("OS_Edit_"+t).checked=this.allOptions[i].set,document.getElementById("OS_Delete_"+t).checked=this.allOptions[i].set,document.getElementById("OS_Post_"+t).checked=this.allOptions[i].set)}else if("E"==e){var o=this.allEvents_Temp.map((function(e){return e.event_seq})).indexOf(t),l=this.allOptions.filter((function(e){return e.module_seq==n&&e.event_seq==t}));l.forEach((function(e,i){var l=s.allOptions.map((function(e){return e.option_seq})).indexOf(e.option_seq);s.allOptions[l].set=s.allEvents[o].set,e.event_seq==s.showOption&&(document.getElementById("O_"+e.option_seq).checked=s.allEvents[o].set),s.checkedTheChild("O",e.option_seq,t,n)}))}else if("M"==e){var a=this.allModules_Temp.map((function(e){return e.module_seq})).indexOf(t),r=this.allEvents.filter((function(e){return e.module_seq==t}));r.forEach((function(e,n){var i=s.allEvents.map((function(e){return e.event_seq})).indexOf(e.event_seq);s.allEvents[i].set=s.allModules[a].set,e.module_seq==s.showEvent&&(document.getElementById("E_"+e.event_seq).checked=s.allModules[a].set),s.checkedTheChild("E",s.allEvents[i].event_seq,null,t)}))}},isUnCheckAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("OS"==e){var s=this.allOptions_Temp.map((function(e){return e.option_seq})).indexOf(t);return!0===this.allOptions[s].add||!0===this.allOptions[s].edit||!0===this.allOptions[s].delete||!0===this.allOptions[s].post}if("O"==e)for(var n=0;n<this.onFilteredOptions.length;n++)return 1==this.onFilteredOptions[n].set;else if("E"==e)for(var i=0;i<this.onFilteredEvents.length;i++)return 1==this.onFilteredEvents[i].set},setToolbarButton:function(){this.getToolbar().isNew=!0,this.getToolbar().statusFunction[6].disabled=!0}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.hideSideBarMenu()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}}),l=o,a=(s("bb9f"),s("2877")),r=Object(a["a"])(l,n,i,!1,null,null,null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2646dfa6.eee528f4.js.map