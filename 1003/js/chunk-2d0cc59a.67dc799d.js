(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc59a"],{"4e0c":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"dashboard-page-chart"},[a("div",{staticClass:"dashboard-page-chart__body"},[a("b-row",{staticClass:"dashboardBody"},[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"card",staticStyle:{"font-size":"12px !important"}},[a("div",{staticClass:"card__title"},[a("b-row",[a("b-col",{staticStyle:{"max-width":"max-content !important"}},[a("span",[t._v("Quotation")])]),a("b-col",{staticStyle:{"text-align":"right"}},[a("ABSButton",{attrs:{text:"Back",classButton:"button button--back",classIcon:"icon-style-1"},on:{click:t.doBack}})],1)],1)],1),a("div",{staticClass:"card__body"},[a("b-form",{attrs:{"data-vv-scope":"MK_AddQuotation","data-vv-value-path":"MK_AddQuotation"}},[a("b-row",[a("b-col",{staticStyle:{"text-align":"center"},attrs:{md:"2"}},[a("img",{staticStyle:{width:"70px"},attrs:{src:e("c079"),alt:""}})]),a("b-col",{attrs:{md:"10"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-row",[a("b-col",[a("span",[t._v(t._s(t.M_Quotation.customer))]),a("br"),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"map-marker-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.fulladdress)+" ")],1),a("br"),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"phone-square-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.phone_no)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"envelope",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.email)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"globe-americas",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.website)+" ")],1),a("br"),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"user",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.pic)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",attrs:{icon:"phone-square-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.pic_phone_no)+" ")],1)])],1)],1),a("b-col",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",staticStyle:{"font-size":"17px","margin-right":"10px","margin-left":"10px",cursor:"pointer"},attrs:{icon:"print",size:"sm"},on:{click:t.doPrint}})],1),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",staticStyle:{"font-size":"17px","margin-right":"10px","margin-left":"10px",cursor:"pointer"},attrs:{icon:"phone-square-alt",size:"sm"}})],1),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",staticStyle:{"font-size":"17px","margin-right":"10px","margin-left":"10px",cursor:"pointer"},attrs:{icon:"envelope",size:"sm"},on:{click:t.doEmail}})],1),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",staticStyle:{"font-size":"17px","margin-right":"10px","margin-left":"10px",cursor:"pointer"},attrs:{icon:"comment-alt",size:"sm"},on:{click:t.doChat}})],1),a("span",[a("ABSButton",{attrs:{text:"Cancel",classButton:"btn btn--default",classIcon:"icon-style-1"},on:{click:t.doCancel}})],1),a("span",[a("ABSButton",{attrs:{text:"Edit",classButton:"btn btn--default",classIcon:"icon-style-1",disabled:null==t.ButtonStatus||!t.ButtonStatus.btnEdit},on:{click:t.doEdit}})],1),a("br"),a("span",[a("font-awesome-icon",{staticClass:"icon-style-default",staticStyle:{"margin-top":"10px"},attrs:{icon:"user",size:"sm"}}),t._v(" User : User Account ")],1)])],1),a("hr"),a("b-row",[a("b-col",{staticStyle:{width:"36% !important"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Date")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.date))])]),a("b-col",{staticStyle:{width:"26% !important"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Type")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.type))])]),a("b-col",{staticStyle:{width:"38% !important"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Quotation Number")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.quotation_no))])])],1),a("b-row",{staticStyle:{"margin-top":"10px !important","margin-bottom":"10px !important","font-size":"15px !important"}},[a("b-col",[a("span",[t._v(t._s(t.M_Quotation.project_name))])])],1),a("b-row",{staticStyle:{"margin-bottom":"10px"}},[a("b-col",{staticStyle:{"text-align":"justify"}},[a("span",[t._v(t._s(t.M_Quotation.descs))])])],1),a("b-row",[a("b-col",{staticStyle:{"max-width":"100px !important"}},[a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"13px"},attrs:{icon:"coins",size:"lg"}}),t._v(" "),a("label",[t._v("Project Value")])],1)]),a("b-col",[a("span",[t._v(": Rp "+t._s(t.M_Quotation.project_value))])])],1),a("b-row",[a("b-col",{staticStyle:{"max-width":"100px !important"}},[a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"13px"},attrs:{icon:"calendar-alt",size:"lg"}}),t._v(" "),a("label",[t._v("Valid Until")])],1)]),a("b-col",[a("span",[t._v(": "+t._s(t.M_Quotation.valid_until))])])],1),a("b-row",[a("b-col",[a("ABSButton",{attrs:{text:"Confirm Quotation",classButton:"btn btn--default",classIcon:"icon-style-1",size:"6x"},on:{click:t.doConfirm}})],1)],1),a("b-row",{staticStyle:{"margin-top":"10px"}},[a("b-col",{staticStyle:{"max-width":"max-content !important"}},[a("span",{staticStyle:{"font-size":"13px","font-weight":"bold",color:"#35359a"}},[t._v(" Log Book ")])]),a("b-col",[a("div",{staticStyle:{"max-width":"max-content !important",cursor:"pointer"},on:{click:t.newLogBook}},[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"12px"},attrs:{icon:"map-marker-alt",size:"lg"}}),t._v(" Add New ")],1)])],1),a("b-row",[a("b-col",[a("div",{staticClass:"table--list",attrs:{id:"logbook_tb"}},[a("b-table",{staticClass:"table-sm table-style-2",attrs:{responsive:!0,striped:!0,bordered:!1,outlined:!1,small:!1,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,fields:t.LogBookHeader,items:t.LogBookItems}})],1)])],1)],1)],1)],1)],1)])])],1)],1),a("div",{staticStyle:{display:"none"},attrs:{id:"forPrint"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-row",[a("b-col",[a("span",[t._v(t._s(t.M_Quotation.customer))]),a("br"),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"map-marker-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.fulladdress)+" ")],1),a("br"),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"phone-square-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.phone_no)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"envelope",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.email)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"globe-americas",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.website)+" ")],1),a("br"),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"user",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.pic)+" ")],1),t._v(" "),a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"phone-square-alt",size:"sm"}}),t._v(" "+t._s(t.M_Quotation.pic_phone_no)+" ")],1)])],1)],1),a("b-col",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em","margin-top":"10px"},attrs:{icon:"user",size:"sm"}}),t._v(" User : User Account ")],1)])],1),a("hr"),a("b-row",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-right":"unset !important","margin-left":"unset !important"}},[a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 25%","max-width":"25%",position:"relative",width:"100%"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Date")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.date))])]),a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 25%","max-width":"25%",position:"relative",width:"100%"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Type")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.type))])]),a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 25%","max-width":"25%",position:"relative",width:"100%"},attrs:{md:"3"}},[a("span",[a("label",{staticStyle:{color:"#999999","margin-bottom":"0px !important"}},[t._v("Quotation Number")])]),a("br"),a("span",[t._v(t._s(t.M_Quotation.quotation_no))])])],1),a("b-row",{staticStyle:{"margin-top":"10px !important","margin-bottom":"10px !important","font-size":"15px !important"}},[a("b-col",[a("span",[t._v(t._s(t.M_Quotation.project_name))])])],1),a("b-row",{staticStyle:{"margin-bottom":"10px"}},[a("b-col",{staticStyle:{"text-align":"justify"}},[a("span",[t._v(t._s(t.M_Quotation.descs))])])],1),a("b-row",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-right":"unset !important","margin-left":"unset !important"}},[a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 20%","max-width":"20%",position:"relative",width:"20%"}},[a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"coins",size:"sm"}}),t._v(" "),a("label",[t._v("Project Value")])],1)]),a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 80%","max-width":"80%",position:"relative",width:"80%"}},[a("span",[t._v(": Rp "+t._s(t.M_Quotation.project_value))])])],1),a("b-row",{staticStyle:{display:"flex","flex-wrap":"wrap","margin-right":"unset !important","margin-left":"unset !important"}},[a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 20%","max-width":"20%",position:"relative",width:"20%"}},[a("span",[a("font-awesome-icon",{staticStyle:{color:"#333399","font-size":"0.875em",width:"0.75em"},attrs:{icon:"calendar-alt",size:"sm"}}),t._v(" "),a("label",[t._v("Valid Until")])],1)]),a("b-col",{staticStyle:{"-webkit-box-flex":"0",flex:"0 0 80%","max-width":"80%",position:"relative",width:"80%"}},[a("span",[t._v(": "+t._s(t.M_Quotation.valid_until))])])],1)],1),a("ABSModal",{ref:"Modal_MK_Quotation",attrs:{id:"Modal_MK_Quotation",size:"sm"}},[a("template",{slot:"headerTitle"},[t._v("Cancel Quotation")]),a("template",{slot:"content"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_1_1","data-vv-value-path":"FormScope_1_1"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Reason")])]),a("ACCLookUp",{ref:"ref_reason_cd",attrs:{prop:t.PI_reason_cd,label:t.M_Quotation.reasonCdLabel},on:{change:t.OnReasonChange},model:{value:t.M_Quotation.reason_cd,callback:function(o){t.$set(t.M_Quotation,"reason_cd",o)},expression:"M_Quotation.reason_cd"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Description")])]),a("ACCTextArea",{ref:"ref_reason_descs",attrs:{prop:t.PI_reason_descs},model:{value:t.M_Quotation.reason_descs,callback:function(o){t.$set(t.M_Quotation,"reason_descs",o)},expression:"M_Quotation.reason_descs"}})],1)],1),a("b-row",{staticStyle:{"margin-top":"10px"}},[a("b-col",{attrs:{md:"12"}},[a("ABSButton",{attrs:{text:"Save",classButton:"btn btn--default",classIcon:"icon-style-1",styleButton:"height: 40px;width: 100%;"},on:{click:t.doSaveReason}})],1)],1)],1)],1)],1)],1)],1)],1)],2),a("ABSModal",{ref:"Modal_Email",attrs:{id:"Modal_Email",size:"md"}},[a("template",{slot:"headerTitle"},[t._v("Email")]),a("template",{slot:"content"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_1_1","data-vv-value-path":"FormScope_1_1"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("To :")])]),a("ACCTextBox",{ref:"ref_to",attrs:{prop:t.PI_to},model:{value:t.M_Quotation.to,callback:function(o){t.$set(t.M_Quotation,"to",o)},expression:"M_Quotation.to"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("CC :")])]),a("ACCTextBox",{ref:"ref_cc",attrs:{prop:t.PI_cc},model:{value:t.M_Quotation.cc,callback:function(o){t.$set(t.M_Quotation,"cc",o)},expression:"M_Quotation.cc"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Subject :")])]),a("ACCTextBox",{ref:"ref_subject",attrs:{prop:t.PI_subject},model:{value:t.M_Quotation.subject,callback:function(o){t.$set(t.M_Quotation,"subject",o)},expression:"M_Quotation.subject"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Body Message")])]),a("ACCTextArea",{ref:"ref_body",attrs:{prop:t.PI_body},model:{value:t.M_Quotation.body,callback:function(o){t.$set(t.M_Quotation,"body",o)},expression:"M_Quotation.body"}})],1)],1),a("b-row",{staticStyle:{"margin-top":"10px"}},[a("b-col",{attrs:{md:"12"}},[a("ABSButton",{attrs:{text:"Send",classButton:"btn btn--default",classIcon:"icon-style-1",styleButton:"height: 40px;width: 100%;"},on:{click:t.doSendEmail}})],1)],1)],1)],1)],1)],1)],1)],1)],2),a("ABSModal",{ref:"Modal_Chat",attrs:{id:"Modal_Chat",size:"sm"}},[a("template",{slot:"headerTitle"},[t._v("Live Chat")]),a("template",{slot:"content"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form",{attrs:{"data-vv-scope":"FormScope_1_1","data-vv-value-path":"FormScope_1_1"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Document :")])]),a("ACCTextBox",{ref:"ref_document",attrs:{prop:t.PI_document},model:{value:t.M_Quotation.document,callback:function(o){t.$set(t.M_Quotation,"document",o)},expression:"M_Quotation.document"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Document No :")])]),a("ACCTextBox",{ref:"ref_doc_no",attrs:{prop:t.PI_doc_no},model:{value:t.M_Quotation.doc_no,callback:function(o){t.$set(t.M_Quotation,"doc_no",o)},expression:"M_Quotation.doc_no"}})],1)],1),a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Chat To :")])]),a("ACCLookUp",{ref:"ref_chat_to",attrs:{prop:t.PI_chat_to,label:t.M_Quotation.chat_toLabel},on:{change:t.Onchat_toChange},model:{value:t.M_Quotation.chat_to,callback:function(o){t.$set(t.M_Quotation,"chat_to",o)},expression:"M_Quotation.chat_to"}})],1)],1),a("b-row",{staticStyle:{"margin-top":"10px"}},[a("b-col",{attrs:{md:"12"}},[a("ABSButton",{attrs:{text:"Start Chat",classButton:"btn btn--default",classIcon:"icon-style-1",styleButton:"height: 40px;width: 100%;"},on:{click:t.doStartChat}})],1)],1)],1)],1)],1)],1)],1)],1)],2),a("ABSModal",{ref:"Modal_LogBook",attrs:{id:"Modal_LogBook",size:"sm"}},[a("template",{slot:"headerTitle"},[t._v("Add New Log Book")]),a("template",{slot:"content"},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-form",{attrs:{"data-vv-scope":"Frm_Logbook","data-vv-value-path":"Frm_Logbook"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("span",[a("label",[t._v("Description")])]),a("ACCTextArea",{ref:"ref_logbook_descs",attrs:{prop:t.PI_logbook_descs},model:{value:t.M_LogBook.descs,callback:function(o){t.$set(t.M_LogBook,"descs",o)},expression:"M_LogBook.descs"}})],1)],1),a("b-row",{staticStyle:{"margin-top":"10px"}},[a("b-col",{attrs:{md:"12"}},[a("ABSButton",{attrs:{text:"Save",classButton:"btn btn--default",classIcon:"icon-style-1",styleButton:"height: 40px;width: 100%;"},on:{click:t.saveLogBook}})],1)],1)],1)],1)],1)],1)],1)],1)],2),a("iframe",{attrs:{name:"print_frame",id:"print_frame",width:"0",height:"0",frameborder:"0",src:"about:blank"}})],1)},s=[],n=(e("6762"),e("2fdb"),e("28a5"),e("7f7f"),e("ac6a"),e("456d"),{data:function(){return{M_Quotation:{customer:"",fulladdress:"",address:"",phone_no:"",email:"",website:"",pic:"",pic_phone_no:"",date:"",type:"",quotation_no:"",project_name:"",descs:"",project_value:"",valid_until:"",reason_cd:"",reasonCdLabel:"",reason_descs:"",to:"",cc:"",subject:"",body:"",chat_to:"",chat_toLabel:""},PI_reason_cd:{dataLookUp:{LookUpCd:"GetCmReason",ColumnDB:"reason_cd",InitialWhere:"ss_portfolio_id='"+this.getDataUser().portfolio_id+"'",ParamWhere:"",OrderBy:"",ParamView:"",SourceField:"",DisplayLookUp:"reason_cd,descs,time_edit"},cValidate:"",cName:"reason_cd",ckey:!1,cOrder:3,cProtect:!1,cParentForm:"",cStatic:!1,cOption:[],cDisplayColumn:"reason_cd,descs",cInputStatus:this.inputStatus},PI_reason_descs:{cValidate:"",cName:"reason_descs",cOrder:2,cKey:!1,cProtect:!1,cResize:!1,cReadonly:!1,cRows:1,cMaxRows:2,cSize:"md",cParentForm:"",cInputStatus:this.inputStatus},PI_to:{cValidate:"",cName:"to",cOrder:12,cKey:!1,cType:"text",cProtect:!1,cParentForm:"",cDecimal:2,cInputStatus:this.inputStatus},PI_cc:{cValidate:"",cName:"cc",cOrder:12,cKey:!1,cType:"text",cProtect:!1,cParentForm:"",cDecimal:2,cInputStatus:this.inputStatus},PI_subject:{cValidate:"",cName:"subject",cOrder:12,cKey:!1,cType:"text",cProtect:!1,cParentForm:"",cDecimal:2,cInputStatus:this.inputStatus},PI_body:{cValidate:"",cName:"body",cOrder:2,cKey:!1,cProtect:!1,cResize:!1,cReadonly:!1,cRows:10,cMaxRows:10,cSize:"md",cParentForm:"",cInputStatus:this.inputStatus,cStyle:"text-align: justify;"},PI_document:{cValidate:"",cName:"document",cOrder:12,cKey:!1,cType:"text",cProtect:!1,cParentForm:"",cDecimal:2,cInputStatus:this.inputStatus},PI_doc_no:{cValidate:"",cName:"doc_no",cOrder:12,cKey:!1,cType:"text",cProtect:!1,cParentForm:"",cDecimal:2,cInputStatus:this.inputStatus},PI_chat_to:{dataLookUp:{LookUpCd:"GetUser",ColumnDB:"ss_user_id",InitialWhere:"portfolio_id='"+this.getDataUser().portfolio_id+"'",ParamWhere:"",OrderBy:"",ParamView:"",SourceField:"",DisplayLookUp:"user_id,user_name,time_edit"},cValidate:"required",cName:"chat_to",ckey:!1,cOrder:1,cProtect:!1,cParentForm:"MK_AddQuotation",cStatic:!1,cOption:[],cDisplayColumn:"user_id,user_name,time_edit",cInputStatus:this.inputStatus},PI_logbook_descs:{cValidate:"",cName:"logbook_descs",cOrder:1,cKey:!1,cProtect:!1,cResize:!1,cReadonly:!1,cRows:1,cMaxRows:2,cSize:"md",cParentForm:"Frm_Logbook",cInputStatus:"new"},M_LogBook:{descs:""},AllData:{},responses:{},LogBookHeader:[],LogBookItems:[]}},computed:{paramFromList:function(){var t=this.$store.getters.getParamPage;if(null==t||void 0==t)this.doBack();else{if(!(Object.keys(t).length<1))return t;this.doBack()}},ButtonStatus:function(){return this.$store.getters.getButtonStatus}},methods:{doCancel:function(){this.addStatus=!0,this.$refs.Modal_MK_Quotation._show()},doPrint:function(){window.frames["print_frame"].document.body.innerHTML=document.getElementById("forPrint").innerHTML,window.frames["print_frame"].window.focus(),window.frames["print_frame"].window.print()},doEmail:function(){this.$refs.Modal_Email._show()},doSendEmail:function(){var t=this,o=this.M_Quotation.customer+"\n\n"+this.M_Quotation.fulladdress+"\nPhone : "+this.M_Quotation.phone_no+", Email: "+this.M_Quotation.email+", Website : "+this.M_Quotation.website+"\nPIC : "+this.M_Quotation.pic+", PIC Phone : "+this.M_Quotation.pic_phone_no+"\n\nDate &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Type &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quotation Number\n"+this.M_Quotation.date+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+this.M_Quotation.type+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+this.M_Quotation.quotation_no+"\n\n"+this.M_Quotation.project_name+"\n"+this.M_Quotation.descs+"\n\nProject Value : Rp. "+this.M_Quotation.project_value+"\nValid Until      : "+this.M_Quotation.valid_until,e={portfolio_id:this.getDataUser().portfolio_id,subportfolio_id:this.getDataUser().subportfolio_id,to:this.M_Quotation.to,cc:this.M_Quotation.cc,subject:this.M_Quotation.subject,body:this.replaceAllString(o,"\n","<br>","string"),doc_type:"Q",doc_no:this.M_Quotation.quotation_no,user_id:this.getDataUser().user_id};this.postJSON(this.sendEmail(),e).then((function(o){null!=o&&t.$refs.Modal_Email._hide()}))},doSaveReason:function(){var t=this,o={option_url:"/MK/MK_Quotation",line_no:1,mk_quotation_id:this.paramFromList.row_id,reason_cd:this.M_Quotation.reason_cd,reason_descs:this.M_Quotation.reason_descs,lastupdatestamp:this.paramFromList.lastupdatestamp,user_edit:this.getDataUser().user_id};this.putJSON(this.getUrlCRUD(),o).then((function(o){null!=o&&(t.$refs.Modal_MK_Quotation._hide(),t.doBack())}))},OnReasonChange:function(t){var o=this;this.$nextTick((function(){o.M_Quotation.reason_cd=t.reason_cd,o.M_Quotation.reasonCdLabel=t.label,o.M_Quotation.reason_descs=t.descs}))},Onchat_toChange:function(t){var o=this;this.$nextTick((function(){o.M_Quotation.chat_to=t.user_id,o.M_Quotation.chat_toLabel=t.user_name}))},doStartChat:function(){var t=this,o={doc_type:"Q",doc_no:this.M_Quotation.doc_no,row_id:this.paramFromList.row_id};this.postJSON(this.getUrlSaveHeaderChat(),o).then((function(o){if(null!=o){var e="MK_ChatQuotation";if(e&&""!=e&&void 0!=e){var a={isEdit:!1,dataList:t.paramFromList,chatFill:[]};t.$store.commit("setParamPage",a),t.$router.push({name:e})}}}))},doChat:function(){var t=this,o={portfolio_id:this.getDataUser().portfolio_id,subportfolio_id:this.getDataUser().subportfolio_id,doc_type:"quotation",doc_no:this.M_Quotation.quotation_no,current_page:1};this.postJSON(this.getUrlCheckChat(),o).then((function(o){if(null!=o){var e=o;if(null==e.Data)t.$nextTick((function(){t.M_Quotation.doc_no=t.M_Quotation.quotation_no})),t.$forceUpdate(),t.$refs.Modal_Chat._show();else{var a="MK_ChatQuotation";if(!a||""==a||void 0==a)return;var s={isEdit:!1,dataList:t.paramFromList};t.$store.commit("setParamPage",s),t.$router.push({name:a})}}}))},doBack:function(){this.$router.go(-1)},doConfirm:function(){var t=this,o={option_url:"/MK/MK_Quotation",line_no:1,mk_quotation_id:this.paramFromList.row_id,lastupdatestamp:this.paramFromList.lastupdatestamp,user_edit:this.getDataUser().user_id};this.postJSON(this.getUrlCRUD(),o).then((function(o){null!=o&&t.doBack()}))},newLogBook:function(){this.$refs.Modal_LogBook._show()},saveLogBook:function(){var t=this,o={option_url:"/MK/MK_Quotation",line_no:2,ss_portfolio_id:this.AllData.ss_portfolio_id,logbook_type:this.AllData.quotation_type,referance_no:this.AllData.quotation_no,logbook_date:this.momentDateFormatting(new Date,"YYYY-MM-DD HH:mm"),descs:this.M_LogBook.descs,cm_contact_id:this.AllData.cm_contact_id,cm_contact_person_id:"NULL",action_type:"",meeting_address:"",user_input:this.getDataUser().user_id};this.postJSON(this.getUrlCRUD(),o).then((function(o){null!=o&&(t.M_LogBook.descs="",t.$refs.Modal_LogBook._hide(),t.GetLogBookList())}))},doEdit:function(){var t=this.paramFromList;t.isEdit=!0,this.$store.commit("setParamPage",t),this.$router.push({name:"MK_AddQuotation"})},M_ClearForm:function(){this.M_Quotation={customer:"",fulladdress:"",address:"",phone_no:"",email:"",website:"",pic:"",pic_phone_no:""}},M_ClearForm_Email:function(){this.M_Quotation={to:"",cc:"",subject:"",body:""}},GetDataBy:function(){var t=this,o={option_url:"/MK/MK_Quotation",line_no:0,id:this.paramFromList.row_id,lastupdatestamp:this.paramFromList.lastupdatestamp};this.getJSON(this.getUrlCRUD(),o).then((function(o){if(null!=o){var e=o.Data[0];t.AllData=e,t.M_Quotation={customer:e.name,fulladdress:e.address+", "+e.district+", "+e.city+", "+e.province+" - "+e.country,address:e.address,phone_no:e.phone_no&&""!==e.phone_no?e.phone_no:"-",email:e.email&&""!==e.email?e.email:"-",website:e.website&&""!==e.website?e.website:"-",pic:e.contact_person&&""!==e.contact_person?e.contact_person:"-",pic_phone_no:e.contact_phone_no&&""!==e.contact_phone_no?e.contact_phone_no:"-",date:e.quotation_date&&""!==e.quotation_date?t.momentDateFormatting(new Date(e.quotation_date),"DD-MM-YYYY HH.mm"):"-",type:e.type&&""!==e.type?e.type:"-",quotation_no:e.quotation_no&&""!==e.quotation_no?e.quotation_no:"-",project_name:e.project_name&&""!==e.project_name?e.project_name:"-",descs:e.descs&&""!==e.descs?e.descs:"-",project_value:e.project_value&&""!==e.project_value?t.isCurrency(e.project_value,t.decimal):"-",valid_until:e.expired_date&&""!==e.expired_date?t.momentDateFormatting(new Date(e.expired_date),"DD-MM-YYYY"):"-"},t.M_Quotation.body=t.M_Quotation.customer+"\n\n"+t.M_Quotation.fulladdress+"\nPhone : "+t.M_Quotation.phone_no+", Email: "+t.M_Quotation.email+", Website : "+t.M_Quotation.website+"\nPIC : "+t.M_Quotation.pic+", PIC Phone : "+t.M_Quotation.pic_phone_no+"\n\nDate                            Type                    Quotation Number\n"+t.M_Quotation.date+"        "+t.M_Quotation.type+"                      "+t.M_Quotation.quotation_no+"\n\n"+t.M_Quotation.project_name+"\n"+t.M_Quotation.descs+"\n\nProject Value : Rp. "+t.M_Quotation.project_value+"\nValid Until      : "+t.M_Quotation.valid_until,t.GetLogBookList()}}))},GetLogBookList:function(){var t=this,o={option_url:"/MK/MK_Quotation",line_no:2,user_id:this.getDataUser().user_id,portfolio_id:this.getDataUser().portfolio_id,subportfolio_id:this.getDataUser().subportfolio_id,current_page:1,per_page:5,param_where:"",initial_where:"",sort_field:"",source_field:"",param_view:""};this.postJSON(this.getUrlList(),o).then((function(o){if(null!=o){t.responses=o,t.LogBookItems=[],t.LogBookHeader=[],t.LogBookItems=t.responses.Data;for(var e=t.responses.DefineColumn&&""!==t.responses.DefineColumn?t.responses.DefineColumn.split(","):t.responses.AllColumn.split(","),a="S,L",s=a.split(","),n=[],i=[],r=0;r<e.length;r++){n=n.filter((function(t){return t.key==e[r]&&i.push({value:t.value,key:t.key,thClass:t.thClass,tdClass:t.tdClass,text:t.key}),t.key!=e[r]}));var c="HeaderACCList2 ";"no"!==e[r]&&(c+=s[r]);var l="ContentACCList2 notranslate";if(e[r].toLowerCase().includes("amount")||e[r].toLowerCase().includes("amt")||e[r].toLowerCase().includes("rate")||e[r].toLowerCase().includes("price")?(l="ABStdClassList2 notranslate",c="ABSthClassList2"):"target"==e[r].toLowerCase()&&(c+=" th-cus-center",l+=" td-cus-center"),t.languageStatus)t.LogBookHeader.push({value:r+1,key:e[r],thClass:c,tdClass:l,label:t.$t(e[r])});else{if("lastupdatestamp"==e[r])continue;var p=[{key:"_",value:" "},{key:"Amt",value:" Amount"},{key:"Cd",value:" Code"},{key:"Descs",value:" Description"},{key:"Time Edit",value:"Last Update"},{key:"Batch Status",value:"Status"},{key:"garing",value:"/"},{key:"titik",value:"."},{key:"SnP",value:"SnP "},{key:"VO",value:"VO "},{key:"Quotation Date",value:"Date"},{key:"Row Id",value:"View"}],_=void 0;_=e[r].includes("_")?e[r].toLowerCase().split("_").map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join(" "):e[r].charAt(0).toUpperCase()+e[r].substring(1);for(var u=0,d=p;u<d.length;u++){var m=d[u];if(void 0==_)_=t.replaceAllString(e[r],m.key,m.value);else if(_.includes(m.key)){if("Row Id"==_&&!t.WithViewButton)continue;_=t.replaceAllString(_,m.key,m.value)}}if("Row Id"==_)continue;t.LogBookHeader.push({value:r+1,key:e[r],thClass:c,tdClass:l,label:_})}}}}))}},mounted:function(){this.M_ClearForm(),this.GetDataBy()}}),i=n,r=e("2877"),c=Object(r["a"])(i,a,s,!1,null,null,null);o["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0cc59a.67dc799d.js.map