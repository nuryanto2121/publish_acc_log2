{"version":3,"sources":["webpack:///./src/views/Dashboard/MK/Dashboard_ToDoList.vue?2dfc","webpack:///src/views/Dashboard/MK/Dashboard_ToDoList.vue","webpack:///./src/views/Dashboard/MK/Dashboard_ToDoList.vue?bf89","webpack:///./src/views/Dashboard/MK/Dashboard_ToDoList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","ButtonStatus","btnAddLogBook","on","doAddLogBook","doViewAllToDoList","ToDoListHeader","ToDoList","viewClicked","scopedSlots","_u","key","fn","data","_s","index","style","item","status_colour","status","last_action","momentDateFormatting","IsWarning","next_action","_e","$event","ToDoListEdit","action","staticRenderFns","computed","$store","getters","getButtonStatus","methods","date","split","Date","now","url","undefined","param","isEdit","$router","push","commit","listEditToDoList","record","console","log","JSON","stringify","isView","getDataToDoList","option_function_cd","module_cd","ss_portfolio_id","getDataUser","portfolio_id","user_id","CallFunction","then","ress","Data","i","cm_contact_id","name","customer_name","customer_status_colour","warning","appointment_type","row_id","lastupdatestamp","mounted","component"],"mappings":"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","file":"js/chunk-2d226539.c4b0a0a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",staticStyle:{\"height\":\"95%\"}},[_c('div',{staticClass:\"card__title\"},[_c('b-row',[_c('b-col',{staticStyle:{\"max-width\":\"max-content !important\"}},[_c('span',[_vm._v(\"To Do List\")])]),_c('b-col',{staticStyle:{\"text-align\":\"right\"}},[_c('span',{staticStyle:{\"padding-right\":\"10px\"}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"medium\",\"color\":\"#333399\"},attrs:{\"icon\":\"circle\",\"size\":\"sm\"}})],1),_c('span',{staticStyle:{\"padding-right\":\"10px\",\"font-size\":\"12px !important\",\"font-weight\":\"normal !important\",\"color\":\"#666666\"}},[_vm._v(\"Prospect\")]),_c('span',{staticStyle:{\"padding-right\":\"10px\"}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"medium\",\"color\":\"#00cc33\"},attrs:{\"icon\":\"circle\",\"size\":\"sm\"}})],1),_c('span',{staticStyle:{\"padding-right\":\"10px\",\"font-size\":\"12px !important\",\"font-weight\":\"normal !important\",\"color\":\"#666666\"}},[_vm._v(\"Customer\")]),_c('span',[_c('ABSButton',{attrs:{\"text\":'Log Book',\"classButton\":\"button button--new\",\"classIcon\":\"icon-style-1\",\"disabled\":_vm.ButtonStatus == null ? true : !_vm.ButtonStatus.btnAddLogBook},on:{\"click\":_vm.doAddLogBook}}),_c('ABSButton',{attrs:{\"text\":'View All',\"classButton\":\"button button--new\",\"classIcon\":\"icon-style-1\",\"disabled\":false},on:{\"click\":_vm.doViewAllToDoList}})],1)])],1)],1),_c('div',{staticClass:\"card__body\"},[_c('b-table',{attrs:{\"responsive\":true,\"striped\":true,\"bordered\":false,\"outlined\":false,\"small\":false,\"hover\":false,\"dark\":false,\"fixed\":false,\"foot-clone\":false,\"fields\":_vm.ToDoListHeader,\"items\":_vm.ToDoList,\"thStyle\":\"padding: 5px !important;\"},on:{\"row-clicked\":_vm.viewClicked},scopedSlots:_vm._u([{key:\"cell(no)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(status)\",fn:function(data){return [_c('span',[_c('b-badge',{style:(\"background-color:\"+data.item.status_colour+\"; width: 75px; padding: 6px !important; border-radius: 4px !important; font-weight: normal !important;\")},[_vm._v(_vm._s(data.item.status))])],1)]}},{key:\"cell(last_action)\",fn:function(data){return [_c('span',[_vm._v(_vm._s(data.item.last_action && data.item.last_action !== '' ? _vm.momentDateFormatting(data.item.last_action, 'DD/MM/YYYY HH:mm') : '-'))])]}},{key:\"cell(next_action)\",fn:function(data){return [_c('span',[(_vm.IsWarning(data.item.next_action))?_c('font-awesome-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"icon\":\"exclamation-triangle\",\"size\":\"sm\"}}):_vm._e(),_vm._v(\" \"+_vm._s(data.item.next_action && data.item.next_action !== '' ? _vm.momentDateFormatting(data.item.next_action,'DD/MM/YYYY') : '-')+\" \")],1)]}},{key:\"cell(action)\",fn:function(data){return [_c('b-row',[_c('b-col',{staticStyle:{\"padding-left\":\"20% !important\",\"padding-top\":\"2px\"}},[_c('span',[_c('b-badge',{staticStyle:{\"width\":\"15px\",\"height\":\"15px\",\"padding\":\"6px !important\",\"border-radius\":\"15px !important\"},attrs:{\"variant\":data.item.status == 'New' ? 'primary' : 'success'}})],1)]),_c('b-col',{staticStyle:{\"padding-left\":\"20% !important\",\"padding-top\":\"3px\"}},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.ToDoListEdit(data.item)}}},[_c('font-awesome-icon',{staticClass:\"icon-style-default\",attrs:{\"icon\":data.item.action=='C' ? 'phone-square-alt' : (data.item.action=='V' ? 'hand-paper' : (data.item.action=='E' ? 'utensils' : 'edit')),\"size\":\"lg\"}})],1)])],1)]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\" style=\"height: 95%;\">\r\n    <div class=\"card__title\">\r\n      <b-row>\r\n        <b-col style=\"max-width:max-content !important;\">\r\n          <span>To Do List</span>\r\n        </b-col>\r\n        <b-col style=\"text-align: right;\">\r\n          <span style=\"padding-right:10px\">\r\n            <font-awesome-icon style=\"font-size: medium; color: #333399;\" icon=\"circle\" size=\"sm\" />\r\n          </span>\r\n          <span\r\n            style=\"padding-right:10px; font-size: 12px !important; font-weight: normal !important; color: #666666;\"\r\n          >Prospect</span>\r\n\r\n          <span style=\"padding-right:10px\">\r\n            <font-awesome-icon style=\"font-size: medium; color: #00cc33;\" icon=\"circle\" size=\"sm\" />\r\n          </span>\r\n          <span\r\n            style=\"padding-right:10px; font-size: 12px !important; font-weight: normal !important; color: #666666;\"\r\n          >Customer</span>\r\n\r\n          <span>\r\n            <ABSButton\r\n              :text=\"'Log Book'\"\r\n              classButton=\"button button--new\"\r\n              classIcon=\"icon-style-1\"\r\n              :disabled=\"ButtonStatus == null ? true : !ButtonStatus.btnAddLogBook\"\r\n              @click=\"doAddLogBook\"\r\n            />\r\n            <ABSButton\r\n              :text=\"'View All'\"\r\n              classButton=\"button button--new\"\r\n              classIcon=\"icon-style-1\"\r\n              :disabled=\"false\"\r\n              @click=\"doViewAllToDoList\"\r\n            />\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n    <div class=\"card__body\">\r\n      <!-- <div class=\"bedge-container\" style>\r\n        <b-row style=\"flex-wrap: unset !important\" class=\"badgeHeader\">\r\n          <b-col style=\"text-align: center;padding-top: 9px;\" class=\"bordered\" md=\"2\">Status</b-col>\r\n          <b-col style=\"text-align: center;padding-top: 9px;\" class=\"bordered\" md=\"3\">Customer Name</b-col>\r\n          <b-col style=\"text-align: center;padding-top: 9px;\" class=\"bordered\" md=\"2\">Last Action</b-col>\r\n          <b-col style=\"text-align: center;padding-top: 9px;\" class=\"bordered\" md=\"2\">Next Action</b-col>\r\n          <b-col style=\"text-align: center;padding-top: 9px;\" class=\"bordered\">Action</b-col>\r\n        </b-row>\r\n        <b-row\r\n          class=\"badgeContent\"\r\n          style=\"flex-wrap: unset !important;\"\r\n          v-for=\"(data, index) in ToDoList\"\r\n          v-bind:key=\"index\"\r\n        >\r\n          <b-col class=\"ContentFillBadge bordered\" style=\"text-align: center;\" md=\"2\">\r\n            <span>\r\n              <b-badge\r\n                :style=\"`background-color:`+data.status_colour+`; width: 75px; padding: 6px !important; border-radius: 4px !important; font-weight: normal !important;`\"\r\n              >{{data.status}}</b-badge>\r\n            </span>\r\n          </b-col>\r\n          <b-col class=\"contentFill bordered\" md=\"3\">\r\n            <span>{{data.name}}</span>\r\n          </b-col>\r\n          <b-col class=\"contentFill bordered\" style=\"text-align: center;\" md=\"2\">\r\n            <span>{{data.last_action && data.last_action !== '' ? momentDateFormatting(data.last_action, 'DD/MM/YYYY') : '-'}}</span>\r\n          </b-col>\r\n          <b-col class=\"contentFill__nextaction bordered\" style=\"text-align: center;\" md=\"2\">\r\n            <span>\r\n              <font-awesome-icon\r\n                v-if=\"IsWarning(data.next_action)\"\r\n                style=\"color: red;\"\r\n                icon=\"exclamation-triangle\"\r\n                size=\"sm\"\r\n              />\r\n              {{ data.next_action && data.next_action !== '' ? momentDateFormatting(data.next_action,'DD/MM/YYYY') : '-'}}\r\n            </span>\r\n          </b-col>\r\n          <b-col class=\"contentFill bordered\">\r\n            <b-row>\r\n              <b-col style=\"padding-left: 20% !important; padding-top: 2px;\">\r\n                <span>\r\n                  <b-badge\r\n                    style=\"width: 15px; height: 15px; padding: 6px !important; border-radius: 15px !important;\"\r\n                    :variant=\"data.status == 'New' ? 'primary' : 'success'\"\r\n                  >&nbsp;</b-badge>\r\n                </span>\r\n              </b-col>\r\n              <b-col style=\"padding-left: 20% !important; padding-top: 2px;\">\r\n                <span @click=\"ToDoListEdit(data)\" style=\"cursor:pointer;\">\r\n                  <font-awesome-icon\r\n                    class=\"icon-style-default\"\r\n                    :icon=\"data.action=='C' ? 'phone-square-alt' : (data.action=='V' ? 'hand-paper' : (data.item.action_type=='E' ? 'utensils' : 'edit'))\"\r\n                    size=\"lg\"\r\n                  />\r\n                </span>\r\n              </b-col>\r\n            </b-row>\r\n          </b-col>\r\n        </b-row>\r\n      </div>-->\r\n      <b-table\r\n        :responsive=\"true\"\r\n        :striped=\"true\"\r\n        :bordered=\"false\"\r\n        :outlined=\"false\"\r\n        :small=\"false\"\r\n        :hover=\"false\"\r\n        :dark=\"false\"\r\n        :fixed=\"false\"\r\n        :foot-clone=\"false\"\r\n        :fields=\"ToDoListHeader\"\r\n        :items=\"ToDoList\"\r\n        thStyle=\"padding: 5px !important;\"\r\n        @row-clicked=\"viewClicked\"\r\n      >\r\n        <template v-slot:cell(no)=\"data\">{{data.index + 1}}</template>\r\n        <template v-slot:cell(status)=\"data\">\r\n          <span>\r\n            <b-badge\r\n              :style=\"`background-color:`+data.item.status_colour+`; width: 75px; padding: 6px !important; border-radius: 4px !important; font-weight: normal !important;`\"\r\n            >{{data.item.status}}</b-badge>\r\n          </span>\r\n        </template>\r\n        <template v-slot:cell(last_action)=\"data\">\r\n          <span>{{data.item.last_action && data.item.last_action !== '' ? momentDateFormatting(data.item.last_action, 'DD/MM/YYYY HH:mm') : '-'}}</span>\r\n        </template>\r\n        <template v-slot:cell(next_action)=\"data\">\r\n          <span>\r\n            <font-awesome-icon\r\n              v-if=\"IsWarning(data.item.next_action)\"\r\n              style=\"color: red;\"\r\n              icon=\"exclamation-triangle\"\r\n              size=\"sm\"\r\n            />\r\n            {{ data.item.next_action && data.item.next_action !== '' ? momentDateFormatting(data.item.next_action,'DD/MM/YYYY') : '-'}}\r\n          </span>\r\n        </template>\r\n        <template v-slot:cell(action)=\"data\">\r\n          <b-row>\r\n            <b-col style=\"padding-left: 20% !important; padding-top: 2px;\">\r\n              <span>\r\n                <b-badge\r\n                  style=\"width: 15px; height: 15px; padding: 6px !important; border-radius: 15px !important;\"\r\n                  :variant=\"data.item.status == 'New' ? 'primary' : 'success'\"\r\n                >&nbsp;</b-badge>\r\n              </span>\r\n            </b-col>\r\n            <b-col style=\"padding-left: 20% !important; padding-top: 3px;\">\r\n              <span @click=\"ToDoListEdit(data.item)\" style=\"cursor:pointer;\">\r\n                <font-awesome-icon\r\n                  class=\"icon-style-default\"\r\n                  :icon=\"data.item.action=='C' ? 'phone-square-alt' : (data.item.action=='V' ? 'hand-paper' : (data.item.action=='E' ? 'utensils' : 'edit'))\"\r\n                  size=\"lg\"\r\n                />\r\n              </span>\r\n            </b-col>\r\n          </b-row>\r\n        </template>\r\n\r\n        <!-- <template v-slot:cell(no)=\"data\">{{data.index + 1}}</template> -->\r\n      </b-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ToDoListHeader: [\r\n        {\r\n          key: \"no\",\r\n          label: \"No\",\r\n          thClass: \"badgeHeader_1 radius-left\",\r\n          tdClass: \"ContentTable__Center contentFill_1 radius-left\"\r\n        },\r\n        {\r\n          key: \"status\",\r\n          label: \"Status\",\r\n          thClass: \"badgeHeader_1 border-white\",\r\n          tdClass: \"ContentTable__Center contentFill_1\"\r\n        },\r\n        {\r\n          key: \"name\",\r\n          label: \"Customer Name\",\r\n          thClass: \"badgeHeader_1 border-white\",\r\n          tdClass: \"ContentTable contentFill_1\"\r\n        },\r\n        {\r\n          key: \"last_action\",\r\n          label: \"Last Action\",\r\n          thClass: \"badgeHeader_1 border-white\",\r\n          tdClass: \"ContentTable__Center contentFill_1\"\r\n        },\r\n        {\r\n          key: \"next_action\",\r\n          label: \"Next Action\",\r\n          thClass: \"badgeHeader_1 border-white\",\r\n          tdClass: \"ContentTable__Center contentFill_1\"\r\n        },\r\n        {\r\n          key: \"action\",\r\n          label: \"Action\",\r\n          thClass: \"badgeHeader_1 border-white radius-right\",\r\n          tdClass: \"ContentTable__Center contentFill_1 radius-right\"\r\n        }\r\n      ],\r\n      ToDoList: []\r\n    };\r\n  },\r\n  computed: {\r\n    ButtonStatus() {\r\n      return this.$store.getters.getButtonStatus;\r\n    },\r\n  },\r\n  methods: {\r\n    IsWarning(date) {\r\n      var arrDate = date.split(\"/\");\r\n      // date = arrDate[1] + \"/\" + arrDate[0] + \"/\" + arrDate[2];\r\n\r\n      var next_action = new Date(date);\r\n      var now = new Date();\r\n\r\n      if (next_action < now) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    doViewAllToDoList() {\r\n      var url = \"MK_ToDoList\";\r\n      if (!url || url == \"\" || url == undefined) return;\r\n      var param = {\r\n        // option_url: this.getOptionUrl(),\r\n        // title: this.title,\r\n        isEdit: false\r\n      };\r\n      this.$router.push({ name: url, params: param });\r\n    },\r\n    doAddLogBook() {\r\n      var param = {};\r\n      param.isEdit = false;\r\n      param.isView = true;\r\n      this.$store.commit(\"setParamPage\", param);\r\n      this.$router.push({ name: \"MK_EditToDoList\" });\r\n    },\r\n    viewClicked(record) {\r\n      if (this.ButtonStatus == null || !this.ButtonStatus.listEditToDoList) return\r\n      this.ToDoListEdit(record);\r\n    },\r\n    ToDoListEdit(data) {\r\n      console.log(JSON.stringify(data, null, 2));\r\n      var param = data;\r\n      param.isEdit = true;\r\n      param.isView = true;\r\n      this.$store.commit(\"setParamPage\", param);\r\n      this.$router.push({ name: \"MK_EditToDoList\" });\r\n    },\r\n    getDataToDoList() {\r\n      var param = {\r\n        option_function_cd: \"GenToDoListDash\",\r\n        module_cd: \"MK\",\r\n        ss_portfolio_id: this.getDataUser().portfolio_id,\r\n        user_id: this.getDataUser().user_id\r\n      };\r\n      this.CallFunction(param).then(ress => {\r\n        if (ress == null) return;\r\n        this.ToDoList = [];\r\n        var now = new Date();\r\n        for (let i = 0; i < ress.Data.length; i++) {\r\n          var next_action = new Date(ress.Data[i].next_action);\r\n          // console.log(next_action);\r\n          this.ToDoList.push({\r\n            cm_contact_id: ress.Data[i].cm_contact_id,\r\n            name: ress.Data[i].customer_name,\r\n            status: ress.Data[i].status,\r\n            status_colour: ress.Data[i].customer_status_colour,\r\n            warning: next_action < now ? true : false,\r\n            next_action: ress.Data[i].next_action,\r\n            last_action: ress.Data[i].last_action,\r\n            action: ress.Data[i].action,\r\n            appointment_type: ress.Data[i].appointment_type,\r\n            row_id: ress.Data[i].row_id,\r\n            lastupdatestamp: ress.Data[i].lastupdatestamp\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDataToDoList();\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard_ToDoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard_ToDoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard_ToDoList.vue?vue&type=template&id=df22950a&\"\nimport script from \"./Dashboard_ToDoList.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard_ToDoList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}